(self.webpackChunk_citrite_workspace_ui=self.webpackChunk_citrite_workspace_ui||[]).push([[5754],{66726:function(e,t,r){"use strict";r.d(t,{x:function(){return d}});var n=r(25180),s=r(58640),o=r(55117),i=r(38638),a=r(54559),c=r(73450),p=r(27378),l=r(9604),u=l.StyleSheet.create({child:{width:"100%"}}),d=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,c.Z)((0,o.Z)(e),"containerRef",void 0),e}return(0,s.Z)(r,[{key:"render",value:function(){var e=this,t=this.props.height||"40px",r=this.props.lineHeight||"20px",n=l.StyleSheet.create({wrapper:{overflow:"hidden",height:t,minHeight:t,lineHeight:r,width:this.props.width,wordWrap:"break-word"}}).wrapper;return p.createElement("div",{className:"".concat((0,l.css)(n)," ").concat(this.props.className||""),ref:function(t){return e.containerRef=t}},p.createElement("div",{className:(0,l.css)(u.child),title:this.props.children},this.props.children))}},{key:"componentDidUpdate",value:function(){this.setText()}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){return e.setText()}),0)}},{key:"setText",value:function(){if(this.containerRef){var e=this.containerRef.querySelector("div"),t=this.containerRef.clientHeight;for(e.textContent=this.props.children;e.offsetHeight>t&&e.textContent.length>=6;)e.textContent=e.textContent.replace(/.{6}$/,"...")}}}]),r}(p.Component)},31344:function(e,t,r){"use strict";r.d(t,{n:function(){return l}});var n=r(27378),s=r(2929),o=r(63666),i=r(91969),a=r(99890),c=r(4853),p=(0,s.Z)("div",{target:"e6fhwal0"})("position:relative;border-radius:8px;background:",(0,o.SY)(i.tP.primaryContainerBackground),";margin:0 20px 20px 0;box-sizing:border-box;display:inline-flex;:hover{box-shadow:",a.shadow2.boxShadow,";}",c.onSmallScreen,"{width:100%;min-width:100%;height:auto;text-align:left;border:none;margin:0;padding-bottom:22px;:hover{border:none;box-shadow:none;}}"),l=function(e){return n.createElement(p,e)}},71730:function(e,t,r){"use strict";r.d(t,{w:function(){return v}});var n=r(25180),s=r(58640),o=r(55117),i=r(38638),a=r(54559),c=r(73450),p=r(27378),l=r(60405),u=r(44131),d=r(54613),m=r(69239),h=r(2828),f=r(22294),g=(0,r(2929).Z)("img",{target:"efaxkb90"})("height:",(function(e){return"".concat(e.size,"px")}),";width:",(function(e){return"".concat(e.size,"px")}),";min-height:",(function(e){return"".concat(e.size,"px")}),";min-width:",(function(e){return"".concat(e.size,"px")}),";display:",(function(e){return e.imageLoaded?"block":"none"}),";"),v=function(e){(0,i.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,c.Z)((0,o.Z)(e),"state",{imageLoaded:!1}),(0,c.Z)((0,o.Z)(e),"handleImageLoad",(function(){e.setState({imageLoaded:!0})})),(0,c.Z)((0,o.Z)(e),"handleImageError",(function(t){(0,m.H)(new Error("ResourceIcon could not load the requested image"),{tags:{feature:"apps-and-desktops"},additionalContext:{error:t,resource:{iconurl:e.props.resource.iconurl}}})})),e}return(0,s.Z)(r,[{key:"render",value:function(){var e=this.props.resource.type===f.Gq,t=h.NZ.useNativeUrlsForResourceIcons&&!e;if(t&&!this.state.url||!this.props.resource.iconurl)return this.renderDefaults();var r=t?this.state.url:this.getNonNativeResourceUrl(this.props.resource);return p.createElement(p.Fragment,null,!this.state.imageLoaded&&this.renderDefaults(),p.createElement(g,{size:this.props.size,imageLoaded:this.state.imageLoaded,src:r,onLoad:this.handleImageLoad,onError:this.handleImageError}))}},{key:"renderDefaults",value:function(){return this.props.resource.isdesktop?p.createElement(l.L,{size:this.props.size}):p.createElement(u.j,{size:this.props.size})}},{key:"getNonNativeResourceUrl",value:function(e){return e.type===f.Gq?e.iconurl:h.NZ.store.baseUri+e.iconurl}},{key:"componentDidMount",value:function(){var e=this;if(h.NZ.useNativeUrlsForResourceIcons&&this.props.resource.type!==f.Gq){var t=this.props.resource,r=function(e){if(!e)return"none";return e.replace(/Resources\/Icon\/([A-Za-z0-9]*).*/,"$1")}(t.iconurl);h.NZ.getFileUri(r).then((function(e){return e||(0,d.U2)(t.iconurl,{downloadId:r}).then((function(){return h.NZ.getFileUri(r)}))})).then((function(t){e.setState({url:t})})).catch((function(){return{}}))}}}]),r}(p.Component)},5325:function(e,t,r){"use strict";r.d(t,{W:function(){return m},b:function(){return h}});var n=r(2929),s=r(4853),o=r(63666),i=r(91969),a=r(86985),c=r(31344),p=r(10043),l=r(74714),u=r(65859),d=function(e){return(0,p.iv)("background:transparent;border-style:dashed;box-sizing:border-box;margin:0 20px 20px 0;",s.onSmallScreen,"{border:none;border-bottom:1px solid ",(0,o.SY)(i.tP.border)(e),";height:70px;margin:0;min-height:70px;min-width:100%;width:100%;}","")},m=(0,n.Z)(c.n,{target:"e1wq9bj61"})("width:",l.ag,"px;height:",l._9,"px;border:1px solid ",(0,o.SY)(i.tP.border),";text-align:center;:hover>:nth-child(1)>:nth-child(2){border-color:",a.blue800,";}",(function(e){return e.emptyTile&&d}),";"),h=(0,n.Z)(m,{target:"e1wq9bj60"})(u.sT,";")},74714:function(e,t,r){"use strict";r.d(t,{ag:function(){return c},_9:function(){return p},EA:function(){return l},W2:function(){return u}});var n=r(73450),s=r(9604),o=r(86985),i=r(20913),a=r(4853),c=140,p=165,l=48,u=s.StyleSheet.create({icon:{marginTop:"10px",marginBottom:"20px"},iconLoading:{width:l,height:l,backgroundColor:o.grey300,borderRadius:"4px"},tileDisabled:{":hover > :nth-child(1) > :nth-child(2)":{borderColor:o.grey300}},resourceInfo:{height:"138px",justifyContent:"center",padding:"10px 0",flexDirection:"column"},name:{marginRight:"10px"},nameLoading:{borderRadius:"4px",height:"8px",margin:"".concat(i.mediumSpace," 0"),backgroundColor:o.grey300,width:"80px"},moreActions:(0,n.Z)({alignSelf:"center",width:"100%",margin:"0 -1px -1px",boxSizing:"content-box",height:i.mediumLargeSpace,border:"1px solid ".concat(o.grey300),backgroundColor:o.grey100,":hover":{backgroundColor:"#E8F0F9"}},a.onSmallScreen,{backgroundColor:"#FFF",width:"22px",flexShrink:0,marginRight:"10px",border:"none"}),moreActionsDisabled:{":hover":{backgroundColor:o.grey100}}})},29955:function(e,t,r){"use strict";r.d(t,{W:function(){return a},b:function(){return c}});var n=r(2929),s=r(31344),o=r(24779),i=r(65859),a=(0,n.Z)(s.n,{target:"e1326o2e1"})("width:",o.ag,"px;height:",o._9,"px;"),c=(0,n.Z)(a,{target:"e1326o2e0"})(i.sT,";")},24779:function(e,t,r){"use strict";r.d(t,{ag:function(){return p},_9:function(){return l},EA:function(){return u},W2:function(){return d}});var n=r(73450),s=r(9604),o=r(86985),i=r(20913),a=r(4853),c=r(99890),p=270,l=100,u=40,d=s.StyleSheet.create({icon:{marginRight:"10px"},iconLoading:{width:u,height:u,backgroundColor:o.grey300,borderRadius:"4px",marginRight:i.mediumSpace},resourceInfo:{height:"98px",padding:"0 32px"},nameLoading:{borderRadius:"4px",height:"8px",margin:"".concat(i.mediumSpace," 0"),backgroundColor:o.grey300,width:"120px"},moreActionsDropdown:(0,n.Z)({position:"absolute",top:0,right:0,padding:i.smallSpace},a.onSmallScreen,{position:"relative",padding:"10px 10px 0 10px"}),moreActionsDisabled:{padding:"6px",opacity:c.disabled.opacity}})},62833:function(e,t,r){"use strict";r.d(t,{r:function(){return W}});var n=r(90932),s=r(25180),o=r(58640),i=r(55117),a=r(38638),c=r(54559),p=r(73450),l=r(27378),u=r(9604),d=r(19472),m=r(58742),h=r(6232),f=r(65467),g=r(1406),v=r(86985),x=r(59245),b=r(10299),k=r(82256),y=r(26656),Z=r(97478),w=r(22294),E=r(99890),C=u.StyleSheet.create({loading:{padding:"10px",display:"inline-block",cursor:"default"},icon:{cursor:"pointer",padding:"10px",display:"inline-block",":focus":{outline:"none"}},input:{position:"absolute",left:"-10000px",top:"auto",width:1,height:1,overflow:"hidden",":focus + span":E.focusInset},label:{width:"100%"},button:{display:"flex",alignItems:"center",cursor:"pointer",userSelect:"none"},statusOnly:{cursor:"default"},disabled:(0,n.Z)({},E.disabled)}),S=function(e){(0,a.Z)(r,e);var t=(0,c.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,p.Z)((0,i.Z)(e),"state",{isPending:e.props.isPending,isFavorited:(0,k.D)(e.props)}),(0,p.Z)((0,i.Z)(e),"onChange",(function(){e.setState({isPending:!0});var t=(0,n.Z)((0,n.Z)({},e.props),{},{subscriptionstatus:e.state.isFavorited?w.RO.subscribed:w.RO.unsubscribed}),r=e.state.isFavorited,s=r?(0,y.U)(t):(0,b.k)(t),o=!r;s.catch((function(){return(0,d.cB)((0,x.t)("Workspace:favorite_error_message")),new Error("Error updating favorite status to ".concat(o))})).then((function(t){e.setState((function(e){return{isPending:!1,isFavorited:t?e.isFavorited:o}}))}))})),e}return(0,o.Z)(r,[{key:"render",value:function(){var e=this.state.isFavorited?m.o:h.V;return l.createElement("label",{className:(0,u.css)(C.label)},l.createElement("div",{className:(0,u.css)(C.button,(this.state.isPending||this.props.mandatory)&&C.statusOnly)},this.props.mandatory?l.createElement(f.k,{className:(0,u.css)(C.icon,C.statusOnly),size:16,alt:(0,x.t)("Workspace:icon_titles.mandatory_favorite")}):this.state.isPending?l.createElement("span",{className:(0,u.css)(C.loading)},l.createElement(g.mT,{size:16})):l.createElement(l.Fragment,null,l.createElement("input",{type:"checkbox",checked:this.state.isFavorited,onChange:this.onChange,"aria-label":(0,x.t)("Workspace:favorite"),className:(0,u.css)(C.input),disabled:this.props.disabled}),l.createElement(e,{className:(0,u.css)(C.icon,this.props.disabled&&C.disabled),hoverColor:!this.state.isFavorited&&!this.props.disabled&&v.grey700,size:16,tabIndex:-1,alt:this.state.isFavorited?(0,x.t)("Workspace:icon_titles.favorite"):(0,x.t)("Workspace:icon_titles.not_favorite")})),this.props.showLabel&&l.createElement(l.Fragment,null,this.props.mandatory?(0,x.t)("Workspace:mandatory_favorite"):this.state.isFavorited?(0,x.t)("Workspace:remove_favorite"):(0,x.t)("Workspace:add_favorite"))))}},{key:"componentDidUpdate",value:function(e){var t=!!e.isPending,r=!!this.props.isPending;t!==r&&r!==this.state.isPending&&this.setState({isPending:r});var n=(0,k.D)(e),s=(0,k.D)(this.props);n!==s&&s!==this.state.isFavorited&&this.setState({isFavorited:s})}}]),r}(l.Component),W=(0,Z.T2)(S)},50449:function(e,t,r){"use strict";r.d(t,{G:function(){return ce},K:function(){return ge}});var n,s=r(19394),o=r(25180),i=r(58640),a=r(55117),c=r(38638),p=r(54559),l=r(73450),u=r(27378),d=r(9604),m=r(15687),h=r(17837),f=r(4156),g=r(35243),v=r(59245),x=r(1996),b=r(19472),k=r(20883),y=r(1406),Z=r(84781),w=r(75904),E=r(55623),C=r(6340),S=r(97478),W=d.StyleSheet.create({loadingContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},loadingIcon:{marginRight:"10px"}}),I=function(e){(0,c.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return e=t.call.apply(t,[this].concat(s)),(0,l.Z)((0,a.Z)(e),"state",{}),(0,l.Z)((0,a.Z)(e),"installApp",(function(){e.setState({installInProgress:!0}),(0,E.b)({resource:e.props.resource,updateSession:e.props.resourceContext.updateSession}).catch((function(){return(0,b.cB)((0,v.t)("Workspace:application_install_failed"))})).then((function(){e.setState({installInProgress:!1})}))})),(0,l.Z)((0,a.Z)(e),"openApp",(function(){(0,C.FV)({resource:e.props.resource,resourceContext:e.props.resourceContext,workspaceConfiguration:e.props.workspaceConfiguration})})),e}return(0,i.Z)(r,[{key:"render",value:function(){var e=this.props.resourceContext.isInstalled(this.props.resource.id),t=this.props.resourceContext.isInProgress(this.props.resource.id);return(0,w.k)(this.props.resource)&&!e?u.createElement(u.Fragment,null,this.state.installInProgress?(0,v.t)("Workspace:installing_app"):u.createElement(k.z.TextPrimary,{onClick:this.installApp},(0,v.t)("Workspace:install_app"))):t?u.createElement("div",{className:(0,d.css)(W.loadingContainer)},u.createElement("div",{className:(0,d.css)(W.loadingIcon)},u.createElement(y.mT,{size:18})),(0,v.t)("Workspace:open_in_progress")):u.createElement(k.z.TextPrimary,{onClick:this.openApp},(0,v.t)("Workspace:open_app"))}}]),r}(u.Component),N=(0,Z.x)((0,S.T2)(I)),_=r(41476),R=r(57135),A=r.n(R),T=r(37842),P=r(22294),z=function(e){(0,c.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return e=t.call.apply(t,[this].concat(s)),(0,l.Z)((0,a.Z)(e),"removeApp",(0,_.Z)(A().mark((function t(){var r,n;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.resource,t.next=3,(0,T.R1)(r.id);case 3:return t.next=5,(0,T.YA)();case 5:n=t.sent,(0,T.Pu)(e.props.resourceContext,n),(0,b.t5)((0,v.t)("Workspace:localapp_manage.notify_success"));case 8:case"end":return t.stop()}}),t)})))),e}return(0,i.Z)(r,[{key:"render",value:function(){return(0,P.WX)(this.props.resource)&&!this.props.resource.whitelisted?u.createElement(k.z.TextPrimary,{onClick:this.removeApp},(0,v.t)("Workspace:localapp_manage.remove_app")):null}}]),r}(u.Component),F=(0,S.T2)(z),D=function(e){(0,c.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return e=t.call.apply(t,[this].concat(s)),(0,l.Z)((0,a.Z)(e),"state",{}),(0,l.Z)((0,a.Z)(e),"upgradeApp",(function(){e.setState({upgradeInProgress:!0}),(0,E.b)({resource:e.props.resource,updateSession:e.props.resourceContext.updateSession}).catch((function(){return(0,b.cB)((0,v.t)("Workspace:application_update_failed"))})).then((function(){e.setState({upgradeInProgress:!1})}))})),e}return(0,i.Z)(r,[{key:"render",value:function(){var e=this.props.resourceContext.isInstalled(this.props.resource.id);return(0,w.k)(this.props.resource)&&e&&this.props.resourceContext.isUpgradeAvailable(this.props.resource.id)?u.createElement(u.Fragment,null,this.state.upgradeInProgress?(0,v.t)("Workspace:installing_app"):u.createElement(k.z.TextPrimary,{onClick:this.upgradeApp},(0,v.t)("Workspace:update_app"))):null}}]),r}(u.Component),O=(0,S.T2)(D),B=r(85843),L=r(22928),M=d.StyleSheet.create({details:{display:"flex",flexBasis:"100%",marginTop:"20px"},emptyDetails:{alignSelf:"center"}}),q=function(e){return e.resource.description?u.createElement("div",{className:(0,d.css)(M.details)},e.resource.description):u.createElement("div",{className:(0,d.css)(M.details,M.emptyDetails)},u.createElement(B.u,{icon:L.u},(0,v.t)("Workspace:empty_app_details")))},j=r(29603),U=r(19509),V=r(71730),G=r(62833),K=r(90932),H=r(2929),Y=r(99890),X=r(75219),$=r(63666),J=r(91969),Q=(0,r(10043).iv)((0,K.Z)({},Y.ellipsis),"",""),ee=(0,H.Z)("h3",{target:"e2k1rul0"})("width:100%;margin:0 0 0 10px;font-size:24px;font-weight:",X.weights.light,";color:",(0,$.SY)(J.tP.primaryText),";",Q,";"),te=r(4853),re=d.StyleSheet.create({header:(0,l.Z)({display:"flex",flexWrap:"wrap",border:"none",paddingBottom:0},te.onSmallScreen,{paddingLeft:"56px"}),titleContainer:{display:"flex",width:"100%"},icon:{marginRight:"10px"},title:{overflow:"hidden",flex:1,display:"flex",flexWrap:"wrap",alignItems:"center"},favoriteAction:{alignItems:"center",display:"flex",height:"36px"}}),ne=function(e){(0,c.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,o.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"render",value:function(){return u.createElement(m.xB,{onDismiss:this.props.onCloseSuccess,className:(0,d.css)(re.header)},u.createElement("div",{className:(0,d.css)(re.titleContainer)},this.props.resource.iconurl&&u.createElement("div",{className:(0,d.css)(re.icon)},u.createElement(V.w,{resource:this.props.resource,size:48})),u.createElement("div",{className:(0,d.css)(re.title)},u.createElement(ee,null,this.props.resource.name),this.props.screenSize.media!==U.BC.small&&this.favoriteAction())),this.props.screenSize.media===U.BC.small&&this.favoriteAction())}},{key:"favoriteAction",value:function(){if(this.props.resource.subscriptionurl)return u.createElement("div",{className:(0,d.css)(re.favoriteAction)},u.createElement(G.r,(0,j.Z)({},this.props.resource,{showLabel:!0})))}}]),r}(u.Component),se=(0,U.gK)(ne),oe=(0,r(70768).g)((function(){return Promise.all([r.e(5063),r.e(3409),r.e(7715),r.e(2834),r.e(9527),r.e(371),r.e(4760),r.e(9350),r.e(9322),r.e(5956),r.e(299),r.e(7857),r.e(1623)]).then(r.bind(r,78126)).then((function(e){return e.RelatedFiles}))})),ie=r(86985),ae=d.StyleSheet.create({body:{margin:"0 40px 40px 40px"},navBarWithTabs:{borderBottom:"1px solid ".concat(ie.grey300),display:"flex",justifyContent:"space-between",marginTop:"10px",flexWrap:"wrap-reverse"},navBar:{borderBottom:"1px solid ".concat(ie.grey300),paddingBottom:"15px",paddingTop:"2px",display:"flex",flexDirection:"row",justifyContent:"flex-end",minHeight:"22px"},content:(0,l.Z)({height:"340px",overflow:"auto"},te.onSmallScreen,{height:"calc(100vh - 180px)"}),contentWithTabs:(0,l.Z)({height:"320px",overflow:"auto"},te.onSmallScreen,{height:"calc(100vh - 200px)"}),details:{marginTop:"20px"},divider:{borderRight:"1px solid ".concat(ie.grey600),margin:"0 20px"},machineName:{marginBottom:"10px"}});!function(e){e[e.recentFiles=0]="recentFiles",e[e.details=1]="details"}(n||(n={}));var ce=function(e){(0,c.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;(0,o.Z)(this,r);for(var i=arguments.length,c=new Array(i),p=0;p<i;p++)c[p]=arguments[p];return e=t.call.apply(t,[this].concat(c)),(0,l.Z)((0,a.Z)(e),"state",{activeTab:n.recentFiles}),(0,l.Z)((0,a.Z)(e),"tabsRenderer",(function(t){return u.createElement("div",{className:(0,d.css)(ae.navBarWithTabs)},t,u.createElement(N,{resource:e.props.resource}))})),(0,l.Z)((0,a.Z)(e),"changeTab",(function(t){e.setState({activeTab:t})})),(0,l.Z)((0,a.Z)(e),"getRelatedFiles",(function(){var t=e.props.resource.playsfiletypes&&e.props.resource.playsfiletypes.map((function(e){return e.fileextensions})).reduce((function(e,t){return[].concat((0,s.Z)(e),(0,s.Z)(t))}));return t&&e.props.recentItems?e.props.recentItems.filter((function(e){return t.some((function(t){return".".concat((0,x.RT)(e.FileName))===t.toLowerCase()}))})):[]})),e}return(0,i.Z)(r,[{key:"render",value:function(){var e=this.getRelatedFiles();return u.createElement(m.u_,this.props,u.createElement(se,this.props),u.createElement(h.R_,{className:(0,d.css)(ae.body)},e.length>0?u.createElement(f.m,{activeTab:this.state.activeTab,onChange:this.changeTab,tabsRenderer:this.tabsRenderer},u.createElement(g.O,{value:n.recentFiles,label:(0,v.t)("Workspace:recent_files"),className:(0,d.css)(ae.contentWithTabs)},u.createElement(oe,{files:e})),u.createElement(g.O,{value:n.details,label:(0,v.t)("Workspace:details"),className:(0,d.css)(ae.contentWithTabs)},u.createElement(q,{resource:this.props.resource}))):u.createElement(u.Fragment,null,u.createElement("div",{className:(0,d.css)(ae.navBar)},u.createElement(O,{resource:this.props.resource}),u.createElement(F,{resource:this.props.resource}),u.createElement(N,{resource:this.props.resource})),u.createElement("div",{className:(0,d.css)(ae.content)},u.createElement(q,{resource:this.props.resource})))))}}]),r}(u.Component),pe=r(49193),le=d.StyleSheet.create({loadingContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},loadingIcon:{marginRight:"10px"}});function ue(e){var t=(0,pe.j)().workspaceConfiguration,r=(0,S.OK)().value;return r.isInProgress(e.resource.id)?u.createElement("div",{className:(0,d.css)(le.loadingContainer)},u.createElement("div",{className:(0,d.css)(le.loadingIcon)},u.createElement(y.mT,{size:18})),(0,v.t)("Workspace:open_in_progress")):u.createElement(k.z.TextPrimary,{onClick:function(){return(0,C.FV)({resource:e.resource,resourceContext:r,workspaceConfiguration:t})}},(0,v.t)("Workspace:open_desktop"))}var de=r(91981),me=d.StyleSheet.create({loadingContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},loadingIcon:{marginRight:"10px"}}),he=function(e){(0,c.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return e=t.call.apply(t,[this].concat(s)),(0,l.Z)((0,a.Z)(e),"restartDesktop",(function(){(0,de.e)(e.props.resource,e.props,e.props.workspaceConfiguration)})),e}return(0,i.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.resourceContext,r=e.resource;return t.desktopRestartInProgressIds.includes(r.id)?u.createElement("div",{className:(0,d.css)(me.loadingContainer)},u.createElement("div",{className:(0,d.css)(me.loadingIcon)},u.createElement(y.mT,{size:18})),(0,v.t)("Workspace:restart_in_progress")):u.createElement(k.z.TextPrimary,{onClick:this.restartDesktop},(0,v.t)("Workspace:restart_desktop_modal.restart"))}}]),r}(u.Component),fe=(0,Z.x)((0,S.T2)(he)),ge=function(e){(0,c.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,o.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r,[{key:"render",value:function(){return u.createElement(m.u_,this.props,u.createElement(se,this.props),u.createElement(h.R_,{className:(0,d.css)(ae.body)},u.createElement("div",{className:(0,d.css)(ae.navBar)},this.props.resource.poweroffurl&&u.createElement(u.Fragment,null,u.createElement(fe,{resource:this.props.resource}),u.createElement("span",{className:(0,d.css)(ae.divider)})),u.createElement(ue,{resource:this.props.resource})),u.createElement("div",{className:(0,d.css)(ae.content)},this.props.resource.description||this.props.resource.desktophostname?u.createElement("div",{className:(0,d.css)(ae.details)},this.props.resource.desktophostname&&u.createElement("div",{className:(0,d.css)(ae.machineName)},u.createElement("strong",null,(0,v.t)("Workspace:machine_name"))," ",this.props.resource.desktophostname),this.props.resource.description):u.createElement(B.u,{icon:L.u},(0,v.t)("Workspace:empty_desktop_details")))))}}]),r}(u.Component)},55754:function(e,t,r){"use strict";r.d(t,{az:function(){return j},Ly:function(){return J},s4:function(){return Q}});var n=r(29603),s=r(25180),o=r(58640),i=r(55117),a=r(38638),c=r(54559),p=r(73450),l=r(27378),u=r(9604),d=r(20883),m=r(1406),h=r(19509),f=r(95806),g=r(86985),v=r(19472),x=r(20896),b=r(36535),k=r(54903),y=r(59245),Z=r(15297),w=r(66726),E=r(98784),C=r(71730),S=r(40165),W=r(32158),I=r(69174),N=r(75904),_=r(97478),R=u.StyleSheet.create({installStatus:{display:"flex",paddingLeft:"5px",alignItems:"center"},installVerb:{paddingLeft:"5px",fontSize:"9pt"}});function A(e){var t=(0,_.OK)().value;if(!(0,N.k)(e.app))return null;var r={displayIcon:S.b,text:(0,y.t)("Workspace:install_required")};return t.isInstalled(e.app.id)&&(r={displayIcon:W.h,text:(0,y.t)("Workspace:installed")},t.isUpgradeAvailable(e.app.id)&&(r={displayIcon:I.c,text:(0,y.t)("Workspace:update_required")})),l.createElement("div",{className:(0,u.css)(R.installStatus)},l.createElement(r.displayIcon,{size:16}),e.showStatusString&&l.createElement("span",{className:(0,u.css)(R.installVerb)},r.text))}var T=r(84781),P=r(2828),z=r(55623),F=r(6340),D=r(5325),O=r(74714),B=r(62833),L=r(65859),M=r(50449),q=function(e){(0,a.Z)(r,e);var t=(0,c.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,p.Z)((0,i.Z)(e),"renderTile",(function(t){var r=e.props.resourceContext.isInProgress(e.props.app.id);return l.createElement(D.W,{emptyTile:!e.props.hasScrolledIntoView,className:(0,u.css)(e.props.transitionState&&L.W2[(0,E.camelCase)("tile ".concat(e.props.transitionState))],(r||t)&&L.W2.tileDisabled,(r||t)&&O.W2.tileDisabled,t&&L.W2.tileNotAllowed)},e.props.hasScrolledIntoView&&l.createElement(l.Fragment,null,l.createElement("div",{className:(0,u.css)(L.W2.flexContainer)},l.createElement(d.z.Wrapper,{onClick:e.openApp,disabled:t,className:(0,u.css)(L.W2.focus)},l.createElement("div",{className:(0,u.css)(L.W2.resourceInfo,O.W2.resourceInfo)},l.createElement("div",{className:(0,u.css)(L.W2.icon,O.W2.icon,!e.props.resourceContext.subscriptionsEnabled()&&L.W2.subscriptionsDisabled)},r?l.createElement(m.mT,{size:O.EA}):l.createElement(C.w,{resource:e.props.app,size:O.EA})),l.createElement("div",{className:(0,u.css)(L.W2.nameSpace)},l.createElement(w.x,{width:"102px",className:(0,u.css)(L.W2.name,O.W2.name)},e.props.app.name),e.props.screenSize.media===h.BC.small&&l.createElement(A,{app:e.props.app,showStatusString:!0})))),l.createElement(d.z.Wrapper,{className:(0,u.css)(O.W2.moreActions,t&&O.W2.moreActionsDisabled),onClick:e.viewDetails,title:(0,y.t)("Workspace:view_details"),"aria-label":(0,y.t)("Workspace:more_options_aria_label",{name:e.props.app.name}),disabled:t},l.createElement("div",null,l.createElement(f.h,{size:22,color:g.black,hoverColor:!t&&g.blue800})))),e.props.resourceContext.subscriptionsEnabled()&&!!e.props.app.subscriptionurl&&l.createElement("div",{className:(0,u.css)(L.W2.favorite)},l.createElement(B.r,(0,n.Z)({},e.props.app,{disabled:t}))),l.createElement("div",{className:(0,u.css)(L.W2.status)},l.createElement(A,{app:e.props.app}))))})),(0,p.Z)((0,i.Z)(e),"openApp",(function(){!(0,N.k)(e.props.app)||e.props.resourceContext.isInstalled(e.props.app.id)?(0,F.FV)({resource:e.props.app,resourceContext:e.props.resourceContext,workspaceConfiguration:e.props.workspaceConfiguration}):(0,z.b)({resource:e.props.app,updateSession:e.props.resourceContext.updateSession}).catch((function(){return(0,v.cB)((0,y.t)("Workspace:application_install_failed"))})).then((function(){e.setState({installInProgress:!1})}))})),(0,p.Z)((0,i.Z)(e),"viewDetails",(function(){e.props.app.keywords&&e.props.app.keywords.some((function(e){return"TreatAsApp"===e}))?e.props.showModal(l.createElement(M.K,{resource:e.props.app})):e.props.showModal(l.createElement(M.G,{resource:e.props.app,recentItems:e.props.filesContext.recentItems}))})),e}return(0,o.Z)(r,[{key:"render",value:function(){var e,t=!(P.NZ.citrixCloudConnected||null!==(e=this.props.app.clmetadata)&&void 0!==e&&e.leasesupported);return l.createElement(x.u,{hoverTrigger:this.renderTile(t),isDisabled:!t,className:(0,u.css)(L.W2.toolTip)},(0,y.t)("Workspace:app_unavailable"))}}]),r}(l.Component),j=(0,b.h)((0,k.P)((0,_.T2)((0,h.gK)((0,Z.S)((0,T.x)(q))))),{removeObserverOnInView:!0,observerInitOpts:{threshold:[.01]}}),U=r(83721),V=r(88055),G=r(45668),K=r(49193),H=r(29955),Y=r(24779),X=["showModal"],$=function(e){(0,a.Z)(r,e);var t=(0,c.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,p.Z)((0,i.Z)(e),"renderTile",(function(t){var r=e.props.contextMenuBuilder(e.props.desktop),s=e.props.resourceContext.isInProgress(e.props.desktop.id)||e.props.resourceContext.desktopRestartInProgressIds.includes(e.props.desktop.id);return l.createElement(H.W,{className:(0,u.css)(e.props.transitionState&&L.W2[(0,E.camelCase)("tile ".concat(e.props.transitionState))],(s||t)&&L.W2.tileDisabled,t&&L.W2.tileNotAllowed)},l.createElement("div",{className:(0,u.css)(L.W2.flexContainer)},l.createElement(d.z.Wrapper,{onClick:e.openDesktop,disabled:t},l.createElement("div",{className:(0,u.css)(L.W2.resourceInfo,Y.W2.resourceInfo)},l.createElement("div",{className:(0,u.css)(L.W2.icon,Y.W2.icon,!e.props.resourceContext.subscriptionsEnabled()&&L.W2.subscriptionsDisabled)},s?l.createElement(m.mT,{size:e.props.screenSize.media===h.BC.small?L.hn:Y.EA}):l.createElement(C.w,{resource:e.props.desktop,size:Y.EA})),l.createElement("div",{className:(0,u.css)(L.W2.nameSpace)},l.createElement(w.x,{width:"160px",className:(0,u.css)(L.W2.name)},e.props.desktop.name)))),l.createElement("div",{className:(0,u.css)(Y.W2.moreActionsDropdown)},l.createElement(V.L,{options:r,placement:"bottom-end"},(function(r){return l.createElement(d.z.IconOnly,(0,n.Z)({},r,{size:22,icon:f.h,"aria-label":(0,y.t)("Workspace:more_options_aria_label",{name:e.props.desktop.name}),title:(0,y.t)("Workspace:more_options"),disabled:t}))})))),e.props.resourceContext.subscriptionsEnabled()&&!!e.props.desktop.subscriptionurl&&l.createElement("div",{className:(0,u.css)(L.W2.favorite)},l.createElement(B.r,(0,n.Z)({},e.props.desktop,{disabled:t}))))})),(0,p.Z)((0,i.Z)(e),"openDesktop",(function(){(0,F.FV)({resource:e.props.desktop,resourceContext:e.props.resourceContext,workspaceConfiguration:e.props.workspaceConfiguration})})),e}return(0,o.Z)(r,[{key:"render",value:function(){var e,t=!(P.NZ.citrixCloudConnected||null!==(e=this.props.desktop.clmetadata)&&void 0!==e&&e.leasesupported);return l.createElement(x.u,{hoverTrigger:this.renderTile(t),isDisabled:!t,className:(0,u.css)(L.W2.toolTip)},(0,y.t)("Workspace:desktop_unavailable"))}}]),r}(l.Component),J=(0,k.P)((function(e){var t=e.showModal,r=(0,U.Z)(e,X),s=(0,K.j)().workspaceConfiguration,o=(0,_.OK)().value,i=(0,G.M)({showModal:t}),a=(0,h.kC)();return l.createElement($,(0,n.Z)({},r,a,{resourceContext:o,contextMenuBuilder:i,workspaceConfiguration:s}))}));function Q(e){return e.resource.isdesktop?l.createElement(J,{desktop:e.resource,transitionState:e.transitionState}):l.createElement(j,{app:e.resource,transitionState:e.transitionState})}},91981:function(e,t,r){"use strict";r.d(t,{e:function(){return g}});var n,s=r(19394),o=r(90932),i=r(6067),a=r(19472),c=r(54613),p=r(59245),l=r(34388),u=r(2828),d=r(6340),m=r(26605),h=r(74967),f=r(89243);function g(e,t,r){return new Promise((function(a){(0,i.sI)({confirmButtonText:(0,p.t)("Workspace:restart_desktop_modal.restart"),title:(0,p.t)("Workspace:restart_desktop_modal.title",{desktopName:e.name}),message:(0,p.t)("Workspace:restart_desktop_modal.text"),onDismiss:a,onCloseSuccess:function(){return function(e,t,r){if(t.resourceContext.desktopRestartInProgressIds.includes(e.id))return x(e,t,n.operationInProgress),Promise.resolve();t.resourceContext.updateSession((0,o.Z)((0,o.Z)({},t.resourceContext),{},{desktopRestartInProgressIds:[].concat((0,s.Z)(t.resourceContext.desktopRestartInProgressIds),[e.id])}));var i=(0,m.gR)(r),a=null;if(i===h.P.html5&&!u.NZ.isNative){var p=(0,l.ql)("html/".concat((0,f.e)(),"/restart_desktop.html"));a=window.open(p)}return(0,c.v_)(e.poweroffurl).then((function(n){var s;"success"!==n.status&&(x(e,t,n.errorId),null===(s=a)||void 0===s||s.close());return t.resourceContext.updateSession(v(t.resourceContext,e.id)),"success"===n.status?(0,d.FV)({resource:e,resourceContext:t.resourceContext,workspaceConfiguration:r,targetWindow:a}):Promise.resolve()})).catch((function(){var r;t.resourceContext.updateSession(v(t.resourceContext,e.id)),x(e,t,n.requestFailed),null===(r=a)||void 0===r||r.close()}))}(e,t,r).then((function(){return a()}))}})}))}!function(e){e.operationInProgress="operation-in-progress",e.noMachine="no-machine",e.inMaintenanceMode="in-maintenance-mode",e.requestFailed="request-failed"}(n||(n={}));var v=function(e,t){return(0,o.Z)((0,o.Z)({},e),{},{desktopRestartInProgressIds:e.desktopRestartInProgressIds.filter((function(e){return e!==t}))})},x=function(e,t,r){if(r!==n.operationInProgress&&!t.resourceContext.isInProgress(e.id)){var s=(0,p.t)("Workspace:desktop_cannot_restart",{name:e.name});r===n.inMaintenanceMode?s=(0,p.t)("Workspace:desktop_maintenance",{name:e.name}):r===n.noMachine&&(s=(0,p.t)("Workspace:desktop_retry_restart",{name:e.name})),(0,a.cB)(s)}}},65859:function(e,t,r){"use strict";r.d(t,{hn:function(){return m},sT:function(){return h},W2:function(){return f}});var n=r(73450),s=r(90932),o=r(9604),i=r(63666),a=r(91969),c=r(86985),p=r(99890),l=r(4853),u=r(75219),d=r(10043),m=r(74714).EA,h=function(e){return(0,d.iv)(":hover{border:1px solid ",(0,i.SY)(a.tP.border)(e),";box-shadow:none;}","")},f=o.StyleSheet.create({tileEntering:{opacity:1},tileEntered:{opacity:1},tileExiting:{opacity:0,transition:"opacity 1.5s linear"},tileExited:{border:0,minWidth:0,margin:0,opacity:0,overflow:"hidden",transition:"all .2s linear",width:0},tileDisabled:{":hover":{border:"1px solid ".concat(c.grey300),boxShadow:"none"}},tileNotAllowed:{":hover *":{cursor:"not-allowed"}},focus:(0,n.Z)({},":focus > :first-child",(0,s.Z)({},p.focusInsetThick)),toolTip:(0,n.Z)({},l.onSmallScreen,{width:"100%"}),flexContainer:(0,n.Z)({flexGrow:1},l.onSmallScreen,{display:"flex",justifyContent:"space-between"}),icon:(0,n.Z)({},l.onSmallScreen,{margin:"0 10px 0 45px",width:m+"px",height:m+"px",flexShrink:0}),resourceInfo:(0,n.Z)({alignItems:"center",boxSizing:"border-box",display:"flex"},l.onSmallScreen,{flexDirection:"row",width:"100%",height:"auto",padding:"0"}),resourceInfoLoading:(0,n.Z)({},l.onSmallScreen,{width:"auto"}),favorite:(0,n.Z)({position:"absolute",top:0,left:0},l.onSmallScreen,{top:"6px"}),nameSpace:{minWidth:"1px",display:"flex",flexDirection:"column"},name:(0,n.Z)({fontSize:"16px",justifyContent:"center",alignItems:"center",display:"flex",marginLeft:"5px"},l.onSmallScreen,{width:"auto",fontWeight:u.weights.semiBold,color:c.grey900}),subscriptionsDisabled:(0,n.Z)({},l.onSmallScreen,{margin:"0 10px 0 0"}),status:(0,n.Z)({position:"absolute",right:"15px",top:"12px"},l.onSmallScreen,{display:"none"})})},45668:function(e,t,r){"use strict";r.d(t,{M:function(){return p}});var n=r(27378),s=r(59245),o=r(91981),i=r(50449),a=r(49193),c=r(97478),p=function(e){var t=e.showModal,r=(0,c.OK)().value,n=(0,a.j)().workspaceConfiguration;return function(e){return l(e,{resourceContext:r,showModal:t,workspaceConfiguration:n})}},l=function(e,t){var r=t.showModal,a=t.resourceContext,c=t.workspaceConfiguration;return[e.poweroffurl&&{onClick:function(){return(0,o.e)(e,{resourceContext:a},c)},children:(0,s.t)("Workspace:restart_desktop_modal.restart")},{onClick:function(){return r(n.createElement(i.K,{resource:e}))},children:(0,s.t)("Workspace:view_details")}].filter((function(e){return!!e}))}},84781:function(e,t,r){"use strict";r.d(t,{x:function(){return i}});var n=r(29603),s=r(27378),o=r(49193);function i(e){return function(t){var r=(0,o.j)().workspaceConfiguration;return s.createElement(e,(0,n.Z)({},t,{workspaceConfiguration:r}))}}},10299:function(e,t,r){"use strict";r.d(t,{k:function(){return u}});var n=r(41476),s=r(57135),o=r.n(s),i=r(37842),a=r(90124),c=r(64647),p=r(22294);function l(){return(l=(0,n.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.subscriptionstatus,n=void 0===r?p.RO.unsubscribed:r,t.type!==p.Gq){e.next=5;break}return e.next=4,(0,i.xA)(t.id,{subscriptionstatus:p.RO.subscribed});case 4:return e.abrupt("return");case 5:if((n===p.RO.approved||n===p.RO.unsubscribed||t.requiresworkflow)&&t.subscriptionurl){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("Resource adding prerequisites not met")));case 7:if(n===p.RO.unsubscribed||n===p.RO.approved){e.next=10;break}return e.abrupt("return",d(t));case 10:return e.abrupt("return",a.NZ.subscribe(t).then((function(){return d(t)})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return function(e){return l.apply(this,arguments)}(e).then((function(){e.resourceContext.setSubscriptionStatus(e.id,p.RO.subscribed)}))}function d(e){return(0,c.f_)()?Promise.resolve():a.NZ.installApp(e).then((function(){}))}},82256:function(e,t,r){"use strict";r.d(t,{N:function(){return o},D:function(){return i}});var n=r(22294),s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function o(e){return e.filter(i).sort((function(e,t){for(var r=e.position||s[0],n=t.position||s[0],o=0;;o++){if(r.length===o)return n.length===o?0:-1;if(n.length===o)return 1;var i=s.indexOf(r.charAt(o))-s.indexOf(n.charAt(o));if(0!==i)return i}}))}function i(e){return e.type===n.Gq?e.subscriptionstatus===n.RO.subscribed:!!!e.subscriptionurl||e.subscriptionstatus===n.RO.subscribed||e.subscriptionstatus===n.RO.pending||e.subscriptionstatus===n.RO.approved}},55623:function(e,t,r){"use strict";r.d(t,{b:function(){return a}});var n=r(90932),s=r(19394),o=r(90124),i=r(22294);function a(e){var t=e.resource,r=e.updateSession;return o.NZ.installApp(t).then((function(e){if("failed"===e)return Promise.reject(e);if("success"===e){var o={appId:t.id},a=t.properties&&t.properties.find((function(e){return e.name===i.CF.MamAppVersion})),c=t.properties&&t.properties.find((function(e){return e.name===i.CF.MamPackageID}));a&&(o.version=a.values[0]),c&&(o.packageId=c.values[0]),r((function(e){return{installedResources:[].concat((0,s.Z)(e.installedResources),[(0,n.Z)({},o)])}}))}return Promise.resolve()}))}},26656:function(e,t,r){"use strict";r.d(t,{U:function(){return i}});var n=r(37842),s=r(90124),o=r(22294);function i(e){return function(e){return e.type===o.Gq?(0,n.xA)(e.id,{subscriptionstatus:o.RO.unsubscribed}):s.NZ.removeApp(e).then((function(){return s.NZ.unsubscribe(e)})).then((function(){s.NZ.uninstallApp(e)}))}(e).then((function(){e.resourceContext.setSubscriptionStatus(e.id,o.RO.unsubscribed)}))}}}]);
//# sourceMappingURL=5754.33cba4a71b61926e999b.js.map