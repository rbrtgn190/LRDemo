(self.webpackChunk_citrite_workspace_ui=self.webpackChunk_citrite_workspace_ui||[]).push([[4905],{39474:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var r,o=n(64357);!function(e){e.officeOnlinePromotions=function(){var e=new o.Query;return e.from("WebMvcTasks"),e.actions("OfficeOnlinePromotions"),e.method("GET"),e},e.dismissOfficeOnlinePromotion=function(e){var t=new o.Query;return t.from("WebMvcTasks"),t.actions("DismissOfficeOnlinePromotion"),t.queryString({promotionType:e}),t.method("POST"),t}}(r||(r={}))},83619:function(e,t,n){"use strict";e.exports=n.p+"c0026700367cbcb13013.png"},63331:function(e,t,n){"use strict";e.exports=n.p+"d64ef47a26af82514aa4.png"},93198:function(e,t,n){"use strict";e.exports=n.p+"616deadb527ed49dc4e3.png"},80907:function(e,t,n){"use strict";n.d(t,{L:function(){return E}});var r=n(27378),o=n(93574),i=n(66801),s=n(6067),c=n(3409),a=n(39474),l=n(68121),u=n(34388),f=n(83721),m=n(9604),d=n(15687),h=n(1812),p=n(86985),v=m.StyleSheet.create({documentIcon:{margin:"55px 0 30px 206px"},nowAvailable:{fontSize:30,color:p.blue800,margin:"0 auto",paddingBottom:"10px"},instructions:{fontSize:"16px",color:p.grey700,margin:"0 auto",paddingBottom:"25px"},terms:{color:p.grey700,margin:"0 auto",paddingBottom:"20px"}}),g=["officeDocType"];function w(e){var t=e.officeDocType,n=(0,f.Z)(e,g);return r.createElement(d.u_,n,r.createElement(d.fe,null,r.createElement("div",null,r.createElement(_,{officeDocType:t}),r.createElement("div",{className:(0,m.css)(v.nowAvailable)},(0,u.t)("files:office_online_promotion.now_available")),r.createElement("div",{className:(0,m.css)(v.instructions)},(0,u.t)("files:office_online_promotion.edit_your_documents_in")," ",r.createElement("a",{href:"http://support.citrix.com/article/CTX208340",target:"_blank"},(0,u.t)("files:office_online_promotion.show_me_how"))),r.createElement("div",{className:(0,m.css)(v.terms)},r.createElement(h.rU.Secondary,{href:"https://www.microsoft.com/online/legal/v2/",target:"_blank"},(0,u.t)("files:office_online_promotion.terms_of_service"))))))}function _(e){var t="";switch(e.officeDocType){case l.ikh.Excel:t="excel";break;case l.ikh.PowerPoint:t="powerpoint";break;case l.ikh.Word:t="word"}return r.createElement("div",{className:(0,m.css)(v.documentIcon)},r.createElement("img",{src:n(59959)("./".concat(t,".png"))}))}var k=n(1996),y=n(13696);function E(e,t,n,i,s){for(var a=arguments.length,l=new Array(a>5?a-5:0),f=5;f<a;f++)l[f-5]=arguments[f];return o.F.apply(void 0,[t,(0,u.t)("files:download.download"),s].concat(l)).then((function(){if(1===l.length){var t=l[0];return n?(S(e,t.Name,s),c.h.download(t.url,!1).execute().catch((function(e){return P(e)}))):(window.location.assign(c.h.download(t.url).getUrl()),S(e,t.Name,s),Promise.resolve())}var r=l.map((function(e){return e.Id}));return c.h.bulkDownload(i,r,!1).execute().catch((function(e){return P(e)}))})).then((function(e){return e.DownloadPrepStatusURL?new Promise((function(t){return s(r.createElement(y.C,{spec:e,onCloseSuccess:t,onDismiss:t}))})):(window.location.assign(e.DownloadUrl),Promise.resolve())})).catch((function(){}))}function P(e){var t=(0,i.V)(e,(0,u.t)("files:download.unable_download_files"));return(0,s.GO)({message:t,title:(0,u.t)("files:download.download_error")}),Promise.reject(e)}function S(e,t,n){var o=(0,k.Wv)(t);e.Preferences.EnableOfficeOnlineEditing&&a.q.officeOnlinePromotions().execute().then((function(e){var t=[];t[l.ikh.Excel]=e.Excel,t[l.ikh.PowerPoint]=e.PowerPoint,t[l.ikh.Word]=e.Word,t[o]&&n(r.createElement(w,{officeDocType:o,onDismiss:function(){return a.q.dismissOfficeOnlinePromotion(o).execute()}}))}))}},13696:function(e,t,n){"use strict";n.d(t,{C:function(){return w}});var r=n(29603),o=n(25180),i=n(58640),s=n(55117),c=n(38638),a=n(54559),l=n(73450),u=n(27378),f=n(15687),m=n(88573),d=n(6067),h=n(54613),p=n(34388),v=n(92471),g=n.n(v),w=function(e){(0,c.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),(0,l.Z)((0,s.Z)(e),"currentTimeout",void 0),(0,l.Z)((0,s.Z)(e),"errorCount",void 0),(0,l.Z)((0,s.Z)(e),"state",{percent:0}),(0,l.Z)((0,s.Z)(e),"queueProgressCheck",(function(){e.currentTimeout=window.setTimeout((function(){e.fetchProgress()}),2500)})),e}return(0,i.Z)(n,[{key:"render",value:function(){return u.createElement(f.u_,(0,r.Z)({},this.props,{title:(0,p.t)("files:download.download_prep")}),u.createElement(f.fe,null,this.state.hasError?u.createElement("div",null,u.createElement("span",{dangerouslySetInnerHTML:{__html:(0,p.t)("files:download.download_prep_error",{startAnchor:'<a target="_blank" href="http://support.citrix.com/article/CTX208288">',endAnchor:"</a>"})}})):u.createElement("div",null,u.createElement("p",null,(0,p.t)("files:download.download_prep_single")),u.createElement(m.k,{percent:this.state.percent,width:"100%"}))))}},{key:"componentDidMount",value:function(){this.queueProgressCheck()}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.currentTimeout&&clearTimeout(this.currentTimeout)}))},{key:"componentWillUnmount",value:function(){this.clearTimeout()}},{key:"fetchProgress",value:function(){var e=this,t=new(g())(this.props.spec.DownloadPrepStatusURL).addSearch("_",Date.now()).toString();(0,h.U2)(t,{timeout:1e4}).then((function(t){e.updateProgress(t)})).catch((function(t){e.progressError(t)}))}},{key:"progressError",value:function(e){var t="timeout"===e.code,n=this.errorCount;t?n+=4:n++,this.errorCount=n,n<12?this.queueProgressCheck():n<16&&t?(0,d.sI)({title:(0,p.t)("files:error"),message:(0,p.t)("files:download.download_prep_check_network"),confirmButtonText:(0,p.t)("files:confirm_dialog.continue"),onCloseSuccess:this.queueProgressCheck}):this.setState({hasError:!0})}},{key:"updateProgress",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e<0?this.setState({hasError:!0}):100===e?this.download(this.props.spec.DownloadUrl):(this.setState({percent:e}),this.queueProgressCheck())}},{key:"download",value:function(e){window.location.assign(e),this.props.onCloseSuccess()}}]),n}(u.Component)},31103:function(e,t,n){"use strict";n.d(t,{$:function(){return g}});var r=n(25180),o=n(58640),i=n(55117),s=n(38638),c=n(54559),a=n(73450),l=n(27378),u=n(9604),f=n(58999),m=n(36535),d=n(3409),h=n(4853),p=u.StyleSheet.create({imgWrapper:{width:"100%",height:"100%",display:"flex",alignContent:"center",alignItems:"center"},preview:(0,a.Z)({maxWidth:"142px",maxHeight:"120px",margin:"auto"},h.onMobile,{maxWidth:"100%"})}),v=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return e=t.call.apply(t,[this].concat(s)),(0,a.Z)((0,i.Z)(e),"state",{}),(0,a.Z)((0,i.Z)(e),"onError",(function(){e.setState({thumbnailUrl:""})})),e}return(0,o.Z)(n,[{key:"render",value:function(){return l.createElement("div",{className:(0,u.css)(p.imgWrapper)},this.props.hasScrolledIntoView&&(this.state.thumbnailUrl?l.createElement("img",{className:(0,u.css)(p.preview),onError:this.onError,src:this.state.thumbnailUrl}):l.createElement(f.S,{size:62,item:this.props.item,className:(0,u.css)(p.preview)})))}},{key:"componentDidMount",value:function(){this.props.hasScrolledIntoView&&this.fetchImageUrl()}},{key:"componentDidUpdate",value:function(e){!e.hasScrolledIntoView&&this.props.hasScrolledIntoView&&this.fetchImageUrl()}},{key:"fetchImageUrl",value:function(){var e=this;d.h.getThumbnail(this.props.item.url,600,!1).passThroughRedirection(!0).execute().then((function(t){var n=t.Uri;e.setState({thumbnailUrl:n})}),this.onError)}}]),n}(l.Component),g=(0,m.h)(v)},35986:function(e,t,n){"use strict";n.d(t,{f:function(){return _}});var r=n(90932),o=n(25180),i=n(58640),s=n(55117),c=n(38638),a=n(54559),l=n(73450),u=n(27378),f=n(9604),m=n(1406),d=n(6232),h=n(58742),p=n(20883),v=n(68121),g=n(28203),w=f.StyleSheet.create({icon:{cursor:"pointer"}}).icon,_=function(e){(0,c.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var i=arguments.length,c=new Array(i),a=0;a<i;a++)c[a]=arguments[a];return e=t.call.apply(t,[this].concat(c)),(0,l.Z)((0,s.Z)(e),"state",{isPending:!1,favorite:e.props.item.Favorite}),(0,l.Z)((0,s.Z)(e),"onClick",(function(t){e.setState({isPending:!0});var n=e.props.updateItem,o=(0,r.Z)((0,r.Z)({},e.props.item),{},{Favorite:e.state.favorite});(0,g.m)(e.props.user,o).then((function(e){var t=e[0];n(o.Id,{Favorite:t})})).catch((function(){e.setState({isPending:!1})})),t.stopPropagation()})),e}return(0,i.Z)(n,[{key:"render",value:function(){if(!(this.props.item.ItemOperations&v.g5X.CanToggleFavorite))return null;if(this.state.isPending)return u.createElement(m.mT,{size:16});var e=d.V;return this.state.favorite&&(e=h.o),u.createElement(p.z.Wrapper,{onClick:this.onClick},u.createElement(e,{className:(0,f.css)(w),size:16}))}},{key:"componentDidUpdate",value:function(e){e.item.Favorite!==this.props.item.Favorite&&this.setState((function(e,t){return{favorite:t.item.Favorite,isPending:!1}}))}}]),n}(u.Component)},73409:function(e,t,n){"use strict";n.d(t,{X:function(){return c}});var r=n(66801),o=n(6067),i=n(3409),s=n(34388);function c(e,t){var n,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=(n="string"==typeof e?[{url:e}]:e).length>1?(0,s.t)("files:delete.confirm_delete_items"):(0,s.t)("files:delete.confirm_delete_item"),u=(0,s.t)("files:delete.confirm_delete_title");return t&&(l=n.length>1?(0,s.t)("files:delete.confirm_archive_items"):(0,s.t)("files:delete.confirm_archive_item"),u=(0,s.t)("files:delete.confirm_archive_title")),a&&(l=(0,s.t)("files:delete.confirm_delete_items_versions")),new Promise((function(e,t){return(0,o.sI)({title:u,message:l,onCloseSuccess:e,onDismiss:t})})).then((function(){var e;if(c||1===n.length)e=Promise.all(n.map((function(e){return i.h.delete_(e.url,c,!0).execute()}))).then((function(){}));else{var t=n.map((function(e){return e.StreamID||e.Id}));e=i.h.bulkDelete(n[0].Parent?n[0].Parent.url:n[0].url,t,!0).execute()}return e.catch((function(e){if(e){var t=(0,r.V)(e,(0,s.t)("files:delete.unable_delete"));(0,o.GO)({message:t,title:(0,s.t)("files:delete.unable_delete_upper")})}})),e}))}},28203:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(66801),o=n(19472),i=n(22315),s=n(64357),c=n(34388);function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Promise.all(n.map((function(t){if(t.Favorite)return i.h.delete_(t.Favorite.url).execute().then((function(){(0,o.t5)((0,c.t)("files:item_unfavorited"))}));var n=(new s.Query).from("Users").whereId(e.Id).getUrl(t.url);return i.h.createByUser(n,{Item:{StreamID:t.StreamID}}).execute().then((function(e){return(0,o.t5)((0,c.t)("files:item_favorited")),e})).catch((function(e){return(0,o.cB)((0,r.V)(e)),Promise.reject(e)}))})))}}}]);
//# sourceMappingURL=4905.8c0e6f6c158ed927aba8.js.map