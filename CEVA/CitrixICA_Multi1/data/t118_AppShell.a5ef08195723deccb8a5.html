(self.webpackChunk_citrite_workspace_ui=self.webpackChunk_citrite_workspace_ui||[]).push([[2771,9328,1678,4939],{44635:function(e,t,n){"use strict";n.r(t),n.d(t,{AppShell:function(){return on}});var r=n(27378),i=n(90932),s=n(19472),o=n(54903),a=n(3409),l=n(59245),c=n(69635),u=n(71315),p=n(96389),h=n(39969),d=n(50),m=n(97478),f="file";var g=(0,d.B)((0,o.P)((function(e){var t=(0,m.OK)().value,n=(0,c.useHistory)(),o=(0,p.v1)();return r.useEffect((function(){return o.subscribe((function(r){if(function(e){return e.type===p.tw.VIEW_ACTION&&e.payload&&e.payload.urn&&(t=e.payload.urn,(0,h.$)(t)&&(0,h.M)(t).resourceName===f);var t}(r)){var o=(0,h.M)(r.payload.urn),c=o.id;if("sharefile"===o.provider&&c){var d=decodeURIComponent(c);!function(e){var t=e.url;a.h.get(t).expand("VirusInfo").expand("FileLockInfo").execute().then((function(t){e.filesContext.addRecentItem(t),(0,u.r)({item:t,removeItem:function(t){e.filesContext.removeItem({Id:t.Id})},updateItem:function(t,n){e.filesContext.addRecentItem((0,i.Z)((0,i.Z)({},n),{},{Id:t}))},resourceContext:e.resourceContext,account:e.account,user:e.user},e.history,e.showModal)})).catch((function(){(0,s.cB)((0,l.t)("App/Files:get_item_error"))}))}((0,i.Z)({url:d,resourceContext:t,history:n},e))}}}))}),[o,e,n,t]),null}))),v=n(68121),y=n(44586),k=n(14005),x=n(2828);function b(){var e,t=null===(e=(0,d.T)().value)||void 0===e?void 0:e.filesContext.recentItems;return r.useEffect((function(){if(t){var e=t.filter((function(e){return(0,v.zE_)(e)}));E(e)}}),[t]),null}var E=function(e){var t=e.map((function(e){return{category:"files",id:e.Id,name:e.Name,url:e.url,provider:"sharefile"}})),n={id:(0,y.Z)(),type:k.t.UPDATE_RECENTS,payload:{recents:t}};x.NZ.sendEventToNative(n)};function S(){return r.createElement(r.Fragment,null,r.createElement(b,null),r.createElement(g,null))}var w=n(64897),Z=n(34388),C=n(62971),I="action",N=function(e){var t,n=(0,p.v1)(),i=e.actionsContext,s=null===(t=i.value)||void 0===t?void 0:t.actions,o=i.loading;return r.useEffect((function(){!function(e){var t={id:(0,y.Z)(),type:p.tw.ACTIONS_HANDLER_STATE,payload:{loading:e}};x.NZ.sendEventToNative(t)}(o)}),[o]),r.useEffect((function(){return n.subscribe((function(e){if(function(e){return e.type===p.tw.VIEW_ACTION&&e.payload&&e.payload.urn&&(t=e.payload.urn,(0,h.$)(t)&&(0,h.M)(t).resourceName===I);var t}(e)){var t,n=(0,h.M)(e.payload.urn).id,r=null===(t=e.meta)||void 0===t?void 0:t.allowClose;if(!s)return;var i=s.find((function(e){return e.id===n}));i&&i.onClick({allowClose:r,onActionOverlayClose:T})}}))}),[n,s]),null},T=function(){var e={id:(0,y.Z)(),type:p.tw.ACTION_CLOSED,payload:{}};x.NZ.sendEventToNative(e)};var A=function(e){var t,n=e.actionsContext,i=null===(t=n.value)||void 0===t?void 0:t.actions,s=n.loading;return r.useEffect((function(){s||F(i)}),[i,s]),null},F=function(e){var t=e.map((function(e){return{id:e.id,name:e.title,iconUrl:e.iconUrl,serviceName:e.serviceName}})),n={id:(0,y.Z)(),type:k.t.UPDATE_ACTIONS,payload:{actions:t}};x.NZ.sendEventToNative(n)},P=function(){var e=(0,r.useState)(!0),t=(0,w.Z)(e,2),n=t[0],i=t[1],s=(0,C.N)().resolveByCapability(Z.fy.actionsAggregator)[0];if(null==s||s.resolver.then((function(){i(!1)})),n)return null;var o=s.value.Component;return r.createElement(o,null,(function(e){return r.createElement(r.Fragment,null,r.createElement(N,e),r.createElement(A,e))}))},R=n(25180),D=n(58640),M=n(38638),O=n(54559),_=n(48761),z=n(21524),L=function(e){(0,M.Z)(n,e);var t=(0,O.Z)(n);function n(e){var r;return(0,R.Z)(this,n),r=t.call(this,e),z.n.registerSingleton(Z.IO.ShowModal,r.props.showModal),z.n.registerSingleton(Z.IO.ShowBlade,r.props.showBlade),r}return(0,D.Z)(n,[{key:"render",value:function(){return null}},{key:"componentWillUnmount",value:function(){z.n.unregister(Z.IO.ShowModal),z.n.unregister(Z.IO.ShowBlade)}}]),n}(r.Component),W=(0,_.a)((0,o.P)(L)),B=n(19394),H=n(41476),j=n(55117),U=n(73450),V=n(57135),K=n.n(V),X=n(40350),Q=function(e){(0,M.Z)(n,e);var t=(0,O.Z)(n);function n(e){var r;return(0,R.Z)(this,n),r=t.call(this,e),(0,U.Z)((0,j.Z)(r),"contextSuppliers",void 0),(0,U.Z)((0,j.Z)(r),"contextProviders",void 0),(0,U.Z)((0,j.Z)(r),"state",{valueProviderHooks:[]}),r.contextSuppliers=e.integrations.resolveByCapability(X.tD.contextProvider).filter((function(e){var t;return null===(t=e.registration.metadata)||void 0===t?void 0:t.context})),r.contextProviders=r.createWrappedProviderComponents(),r}return(0,D.Z)(n,[{key:"render",value:function(){var e=this;return this.contextProviders.reduce((function(t,n){var i=e.state.valueProviderHooks.find((function(e){return e.sourceIntegration===n.sourceIntegration})),s=null==i?void 0:i.useContextProviderValue,o=n.Provider;return r.createElement(o,{useContextProviderValue:s},t)}),this.props.children)}},{key:"componentDidMount",value:function(){this.lazilyLoadContextProviderHooks()}},{key:"createWrappedProviderComponents",value:function(){return this.contextSuppliers.map((function(e){var t=e.registration.metadata.defaultContextValue,n=e.registration.metadata.context.Provider;return{Provider:function(e){var i,s,o=null!==(i=null===(s=e.useContextProviderValue)||void 0===s?void 0:s.call(e))&&void 0!==i?i:t;return r.createElement(n,{value:o},e.children)},sourceIntegration:e}}))}},{key:"lazilyLoadContextProviderHooks",value:function(){var e=this;this.contextSuppliers.forEach(function(){var t=(0,H.Z)(K().mark((function t(n){var r,i;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.resolver;case 2:r=t.sent,i=r.useContextValueProvider,e.setState((function(e){return{valueProviderHooks:[].concat((0,B.Z)(e.valueProviderHooks),[{useContextProviderValue:i,sourceIntegration:n}])}}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),n}(r.Component);function q(e){var t=(0,C.N)();return r.createElement(Q,{integrations:t},e.children)}var G=n(32593),Y=n(79942),J=n(32440),$=n(29603),ee=n(85843),te=n(72201),ne=n(20883),re=n(19509),ie=n(41519),se=n(28907),oe=n(97032),ae=n(78148),le=n(69239),ce=n(75904);var ue=n(9604),pe=n(64302),he=n(53173),de=n(95806),me=n(39234),fe=n(6848),ge=n(4289),ve=n(12913),ye=n(79893),ke=n(20913),xe=n(99890),be=ue.StyleSheet.create({tabBar:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",height:ye.Nf,position:"fixed",bottom:0,zIndex:2,backgroundColor:"white",boxShadow:"0px -3px 10px -2px rgba(0,0,0,0.16)"},tabItem:{display:"grid",justifyContent:"center",flex:1,alignItems:"center"},icon:{margin:"".concat(ke.tinySpace),width:ye.XL+"px",height:ye.XL+"px"},title:(0,i.Z)((0,i.Z)({},xe.ellipsis),{},{display:"flex",fontSize:"10px"}),linkActive:{flex:1}});function Ee(e){return r.createElement("div",{className:(0,ue.css)(be.tabItem)},r.createElement("span",{className:(0,ue.css)(be.icon)},r.createElement(e.icon,{size:ye.XL,color:e.color})))}function Se(e){var t=(0,fe.P)().theme,n=!!(0,c.matchPath)(e.currentPath,{path:e.link.href})?e.link.selectedIcon:e.link.icon;return r.createElement(r.Fragment,null,e.link.href?r.createElement(ge.NavLink,{to:e.link.href,className:(0,ue.css)(be.linkActive),onClick:function(){e.link.performanceMark&&ve.S.mark(e.link.performanceMark)}},r.createElement(Ee,{icon:n,color:t.themeColors.primary})):r.createElement("a",{className:(0,ue.css)(be.linkActive),href:"#",onClick:function(t){t.preventDefault(),e.link.onClick(t)}},r.createElement(Ee,{icon:n,color:t.themeColors.primary})))}var we=n(15687),Ze=n(86985),Ce=n(75219),Ie=ue.StyleSheet.create({modal:{minHeight:"unset",maxWidth:"unset",width:"100%"},overflowMenu:{width:"100%",position:"fixed",backgroundColor:"white",borderTopLeftRadius:10,borderTopRightRadius:10,overflow:"hidden",paddingTop:ke.smallSpace,bottom:0,animationName:{"0%":{transform:"translateY(100%)"},"100%":{transform:"translateY(0px)"}},animationDuration:"500ms",animationIterationCount:"1"},slideDown:{animationName:{"0%":{transform:"translateY(0px)"},"100%":{transform:"translateY(100%)"}}},overflowMenuItem:{display:"flex",justifyContent:"flex-start",flexDirection:"row",marginTop:ke.smallSpace,width:"100vw",flex:1,alignItems:"center",backgroundColor:"white",height:ye.TQ+"px"},icon:{marginLeft:ke.mediumLargeSpace,width:ye.XL+"px",height:ye.XL+"px"},title:(0,i.Z)((0,i.Z)({},xe.ellipsis),{},{marginLeft:ke.mediumLargeSpace,color:Ze.grey900,fontWeight:Ce.weights.regular,fontSize:Ce.sizes.base}),linkActive:{textDecoration:"none"}}),Ne=function(e){(0,M.Z)(n,e);var t=(0,O.Z)(n);function n(){var e;(0,R.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,U.Z)((0,j.Z)(e),"onClick",(function(t){t.preventDefault(),e.props.closeMenu(),e.props.link.onClick(t)})),(0,U.Z)((0,j.Z)(e),"menuItemClick",(function(){e.props.link.performanceMark&&ve.S.mark(e.props.link.performanceMark),e.props.closeMenu()})),e}return(0,D.Z)(n,[{key:"render",value:function(){return r.createElement(r.Fragment,null,this.props.link.href?r.createElement(ge.NavLink,{to:this.props.link.href,className:(0,ue.css)(Ie.linkActive),onClick:this.menuItemClick},this.renderTabItem()):r.createElement("a",{className:(0,ue.css)(Ie.linkActive),href:"#",onClick:this.onClick},this.renderTabItem()))}},{key:"renderTabItem",value:function(){var e=this.props.link.title,t=this.props.link.icon;return r.createElement("div",{className:(0,ue.css)(Ie.overflowMenuItem)},t&&r.createElement("div",{className:(0,ue.css)(Ie.icon)},r.createElement(t,{size:ye.XL})),r.createElement("div",{className:(0,ue.css)(Ie.title)},e))}}]),n}(r.Component);function Te(e){var t={height:e.links.length*(ye.TQ+8)+24+"px"},n=r.useRef(null);return r.createElement(we.u_,(0,$.Z)({},e,{className:(0,ue.css)(Ie.modal),onDismiss:function(){n.current.className=(0,ue.css)(Ie.overflowMenu,Ie.slideDown),e.onDismiss()}}),r.createElement("div",{className:(0,ue.css)(Ie.overflowMenu),style:t,ref:n},e.links.map((function(t,n){return r.createElement(Ne,{key:"".concat(n).concat(t.href),link:t,closeMenu:e.onDismiss})}))))}function Ae(e){e.stopPropagation();var t=e.currentTarget.getBoundingClientRect(),n=t.left,r=t.right,i=t.top,s=t.bottom;x.NZ.showSettings(n,i,r,s,window.innerWidth,window.innerHeight)}var Fe=(0,o.P)((function(e){var t=(0,c.useLocation)(),n=(0,B.Z)((0,me.n)().links.filter((function(e){return e.title})));n.push({title:(0,l.t)("Workspace:settings"),icon:pe.I,selectedIcon:he.o,onClick:Ae});var i=n.slice(0,n.length>5?4:n.length),s=n.slice(4),o=s.length>1;return r.createElement("div",{className:(0,ue.css)(be.tabBar)},i.map((function(e,n){return n<5&&r.createElement(Se,{key:"".concat(n).concat(e.href),link:e,currentPath:t.pathname})})),o&&r.createElement(ne.z.Wrapper,{className:(0,ue.css)(be.linkActive),onClick:function(){return e.showModal(r.createElement(Te,{links:s,closeOnOverlayClick:!0}))}},r.createElement(Ee,{icon:de.h})))})),Pe=n(37100),Re=n(22294),De="TreatAsApp";function Me(e){var t;return e.isdesktop||(null===(t=e.keywords)||void 0===t?void 0:t.includes(De))}var Oe=n(56039),_e=n(49193),ze=n(16795),Le=function(){var e=(0,_e.j)().workspaceConfiguration,t=(0,J.SE)().isIWSEnabled,n=(0,m.OK)().value,i=(0,c.useLocation)(),o=(0,c.useHistory)(),a=r.useRef(null);return r.useEffect((function(){var r=(0,Oe.n)(e,t,n);null!==r&&(null!==a.current?a.current!==r&&(a.current=r,(0,s.QD)((0,l.t)("Workspace:homepage_switch"),{timeout:5e3}),(0,ie.L)(r?"HomepageSwitchToDesktopOnly":"HomepageSwitchFromDesktopOnly"),r&&i.pathname!==ze.DK&&o.push(ze.DK)):a.current=r)}),[e,t,n,o,i.pathname]),null},We=n(53660),Be=n(95940),He=n(24210),je=n(69438),Ue=n(99982),Ve=n(52659),Ke=n(70768),Xe=n(2929);var Qe=(0,Xe.Z)("div",{target:"etlqxbu1"})({name:"1vr7vmn",styles:"align-items:center;display:flex"}),qe=(0,Xe.Z)("div",{target:"etlqxbu0"})("display:flex;margin-left:",ke.mediumLargeSpace,";"),Ge=n(51961),Ye=n(88055),Je=n(37842),$e=n(46809),et=n(46077),tt=n(92951),nt=n(44089),rt=n(73517),it=n(66856),st=ue.StyleSheet.create({enabled:{right:"0",position:"absolute",padding:"13px"},focusStyle:{":focus > :first-child":{boxShadow:"none"},":focus > :first-child > :first-child":(0,i.Z)((0,i.Z)({},xe.focusOutsetThick),{},{borderRadius:"50%"})}}),ot=n(47134).n.Circle;function at(){return r.createElement("div",null,r.createElement("div",null,r.createElement(ot,{diameter:40})))}function lt(){var e=(0,p.v1)(),t=r.useState([]),n=(0,w.Z)(t,2),i=n[0],s=n[1],o=r.useState(!0),a=(0,w.Z)(o,2),l=a[0],c=a[1];return r.useEffect((function(){function t(){return(t=(0,H.Z)(K().mark((function e(){var t;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=JSON,e.next=4,x.NZ.getAccountsAsync();case 4:e.t1=e.sent,t=e.t0.parse.call(e.t0,e.t1),s(t.accounts),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(0),(0,le.H)(e.t2);case 12:return e.prev=12,c(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),e.subscribe((function(e){(function(e){return e.type===p.tw.UPDATE_ACCOUNTS})(e)&&s(e.payload.accounts)}))}),[e]),{loading:l,accounts:i}}var ct=function(e){(0,M.Z)(n,e);var t=(0,O.Z)(n);function n(){var e;(0,R.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,U.Z)((0,j.Z)(e),"state",{isDropdownOpen:!1}),(0,U.Z)((0,j.Z)(e),"tryOpenSettings",(function(t,n){if(!x.NZ.isNativeDropdownNeeded||e.props.filesServiceContext.value.supportsFiles)n(t);else{var r=t.currentTarget.getBoundingClientRect(),i=r.left,s=r.right,o=r.top,a=r.bottom;e.openSettings(i,s,o,a)}})),e}return(0,D.Z)(n,[{key:"getDropdownOptions",value:function(){return[this.getAccountSettingsOption(),this.getApplicationSettingsOption(),this.getRefreshOption(),this.getAboutOption(),this.getShowAccountsOption(),this.manageLocalAppOption(),this.getSwitchAccountsOption(),this.getLogoutOption()].filter((function(e){return!!e}))}},{key:"getRefreshOption",value:function(){if(x.NZ.menuPreferences.refresh)return{onClick:function(){return(0,rt.k)()},children:(0,l.t)("Workspace:refresh")}}},{key:"getAboutOption",value:function(){var e=this;if(x.NZ.menuPreferences.about)return{onClick:function(t){return x.NZ.aboutBox(t.currentTarget,e.props.showModal)},children:(0,l.t)("Workspace:about_citrix_workspace")}}},{key:"getLogoutOption",value:function(){var e=this;if(x.NZ.menuPreferences.logoff)return{onClick:function(){return e.props.userContext.logOff()},children:(0,l.t)("javascript:logout")}}},{key:"manageLocalAppOption",value:function(){var e=this;if((0,it.n)(this.props.workspaceConfiguration,it.L.Apps)&&x.NZ.supportsUserManagedLocalApps)return{onClick:function(){return e.props.showModal(r.createElement(Je.Kt,null))},children:(0,l.t)("Workspace:localapp_manage.menu_item")}}},{key:"getAccountSettingsOption",value:function(){var e=this;return{onClick:function(){return e.props.history.push($e.p.getUrl())},children:(0,l.t)("Workspace:account_settings")}}},{key:"getApplicationSettingsOption",value:function(){var e=this;if(x.NZ.supportsNewSettings||x.NZ.supportsLegacySettings)return{onClick:function(t){var n=t.currentTarget.getBoundingClientRect(),r=n.left,i=n.right,s=n.top,o=n.bottom;e.openSettings(r,i,s,o)},children:(0,l.t)("Workspace:application_settings")}}},{key:"getShowAccountsOption",value:function(){if(x.NZ.menuPreferences.accounts)return{onClick:function(){return x.NZ.showAccounts()},children:(0,l.t)("Workspace:accounts")}}},{key:"getSwitchAccountsOption",value:function(){if(x.NZ.menuPreferences.accountSwitch){var e=this.getAccountsToSwitch();if(e.length>1)return{items:e,children:(0,l.t)("Workspace:account_switch")}}}},{key:"getAccountsToSwitch",value:function(){var e,t=(null===(e=this.props.accounts)||void 0===e?void 0:e.length)>0?this.props.accounts:x.NZ.getNativeAccounts().accounts,n=[],i=t.find((function(e){return e.allAccounts}));return t.forEach((function(e){e.allAccounts||n.push({children:r.createElement(r.Fragment,null,e.displayName,e.enabled&&r.createElement(Ge.n,{className:(0,ue.css)(st.enabled),color:"#000",size:10})),onClick:function(){return x.NZ.sendAction(e.actionId)}})})),void 0!==i&&n.length>1&&n.push({children:r.createElement(r.Fragment,null,i.displayName,i.enabled&&r.createElement(Ge.n,{className:(0,ue.css)(st.enabled),color:"#000"})),onClick:function(){return x.NZ.sendAction(i.actionId)}}),n}},{key:"openSettings",value:function(e,t,n,r){x.NZ.showSettings(e,n,t,r,window.innerWidth,window.innerHeight)}},{key:"render",value:function(){var e,t,n,i,s,o=this,a=null===(e=this.props.userContext.userDetails)||void 0===e?void 0:e.userDisplayName,c=(0,Z.Nc)(this.props.workspaceConfiguration,Ue.T.WorkspaceProfilePicture),u=null===(t=this.props.userContext.userPreferences)||void 0===t||null===(n=t.profilePicture)||void 0===n||null===(i=n.items)||void 0===i||null===(s=i.Default)||void 0===s?void 0:s.url;return r.createElement(Ye.L,{options:this.getDropdownOptions(),placement:"bottom-end"},(function(e){return r.createElement(ne.z.Wrapper,(0,$.Z)({},e,{"aria-label":(0,l.t)("Workspace:user_menu"),onClick:function(t){return o.tryOpenSettings(t,e.onClick)},title:(0,l.t)("javascript:masthead.usermenu.account"),className:(0,ue.css)(st.focusStyle)}),r.createElement("span",null,c?r.createElement(tt.z,{username:a,size:40,color:o.props.branding.styles.HeaderTextColor,imageLocation:u}):r.createElement(et.q,{username:a,size:40,color:o.props.branding.styles.HeaderTextColor})))}))}},{key:"componentDidMount",value:function(){ve.S.mark(ve.S.events.masthead)}}]),n}(r.Component);var ut=(0,o.P)((function(e){var t=(0,d.T)(),n=(0,J.SE)(),i=(0,c.useHistory)(),s=(0,nt.T)(),o=lt(),a=o.loading,l=o.accounts,u=(0,_e.j)().workspaceConfiguration;return r.createElement(r.Fragment,null,t.loading||a?r.createElement(at,null):r.createElement(ct,(0,$.Z)({},e,{accounts:l,userContext:n,filesServiceContext:t,history:i,branding:s,workspaceConfiguration:u})))})),pt=(0,Ke.g)((function(){return n.e(9242).then(n.bind(n,85169)).then((function(e){return e.ItemSearch}))}),null,(function(){return null})),ht=(0,Ke.g)((function(){return Promise.all([n.e(7715),n.e(2834),n.e(8784),n.e(6102),n.e(4715),n.e(7190),n.e(413)]).then(n.bind(n,74624)).then((function(e){return e.VirtualAssistantTrigger}))}),null,(function(){return null})),dt=function(e){var t=e.hasSearch,n=e.hasVirtualAssistant,i=e.hasUserMenu,s=(0,re.kC)(),o=s.screenSize.onMobile?32:40,a=s.screenSize.onMobile?21:26,l=(0,_e.j)().workspaceConfiguration,c=[t&&(s.screenSize.onMobile||(0,Z.Nc)(l,Ue.T.SimplifiedNav)&&s.screenSize.media!==re.BC.none)&&{key:"search",element:r.createElement(pt,{size:a})},n&&{key:"assistant",element:r.createElement(ht,{size:o})},i&&(!s.screenSize.onMobile||(0,Z.Nc)(l,Ue.T.SimplifiedNav))&&{key:"usermenu",element:r.createElement(ut,null)}].filter(Boolean);return 0===c.length?null:r.createElement(r.Fragment,null,r.createElement(Qe,null,c.map((function(e){return r.createElement(qe,{key:e.key},e.element)}))))},mt=n(80246),ft=(0,n(63666).bn)({citrixbrand:"#fff",neutral:Ze.grey200}),gt=(0,Xe.Z)("div",{target:"ebelin21"})("display:flex;align-items:center;justify-content:center;width:320px;height:40px;border-radius:20px;background:",ft,";"),vt=(0,Xe.Z)("span",{target:"ebelin20"})("margin-left:",ke.smallSpace,";color:",Ze.grey700,";font-weight:",Ce.weights.light,";"),yt=n(44464),kt=n(37690),xt=n(41167);var bt=(0,c.withRouter)((0,o.P)((function(e){var t=(0,c.useRouteMatch)(yt.z.paths[0]),n=(null==t?void 0:t.params)||{},i=n.search?decodeURIComponent(n.search):(0,l.t)("javascript:search.search_workspace");return r.createElement(ne.z.Wrapper,{onClick:function(){Z.Xh.isMobile()?e.showModal(r.createElement(kt.n,null)):e.showModal(r.createElement(xt.g,{onCloseSuccess:function(t){t&&e.history.push(t)}}))}},r.createElement(gt,null,r.createElement(mt.W,{size:18}),r.createElement(vt,null,i)))}))),Et=n(64647),St=(0,Et.DR)()?"16px":"50px",wt=ue.StyleSheet.create({mobileTitle:(0,i.Z)({display:"flex",alignItems:"flex-end",fontWeight:Ce.weights.medium,fontSize:"24px",margin:"0px 10px 19px ".concat(St)},xe.ellipsis)}),Zt=ue.StyleSheet.create({wrapper:{position:"absolute",outline:"none",left:0,top:0,zIndex:4},skipNav:{display:"none",backgroundColor:Ze.grey100,boxSizing:"border-box",border:"1px solid ".concat(Ze.grey300)},show:{display:"block"},link:{textDecoration:"none",padding:"10px",display:"block",fontSize:"16px",":focus":{outline:"none",textDecoration:"underline"}}}),Ct=function(e){(0,M.Z)(n,e);var t=(0,O.Z)(n);function n(){var e;(0,R.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,U.Z)((0,j.Z)(e),"state",{}),(0,U.Z)((0,j.Z)(e),"onFocus",(function(){e.setState({hasFocus:!0})})),(0,U.Z)((0,j.Z)(e),"onBlur",(function(){e.setState({hasFocus:!1})})),(0,U.Z)((0,j.Z)(e),"focusMainContent",(function(t){t.preventDefault(),e.onBlur();var n=document.querySelector('[role="main"]');n.setAttribute("tabindex","0"),n.focus(),window.scrollTo(0,0)})),(0,U.Z)((0,j.Z)(e),"focusNavigation",(function(t){t.preventDefault(),e.onBlur();var n=document.getElementsByTagName("nav")[0];n.setAttribute("tabindex","0"),n.focus()})),e}return(0,D.Z)(n,[{key:"render",value:function(){return r.createElement("div",{onFocus:this.onFocus,className:(0,ue.css)(Zt.wrapper),tabIndex:0},r.createElement("div",{className:(0,ue.css)(Zt.skipNav,this.state.hasFocus&&Zt.show)},r.createElement("a",{href:"#",onClick:this.focusMainContent,className:(0,ue.css)(Zt.link)},(0,l.t)("Workspace:skip_to_main")),r.createElement("a",{href:"#",onClick:this.focusNavigation,className:(0,ue.css)(Zt.link)},(0,l.t)("Workspace:skip_to_nav"))))}}]),n}(r.Component);function It(e){var t,n,i,s,o=(0,_e.j)().workspaceConfiguration,a=r.createRef(),l=(0,d.T)(),c=(0,J.SE)(),u=(0,m.OK)().value,p=null===(t=l.value)||void 0===t?void 0:t.supportsFiles,h=p&&(null===(n=l.value)||void 0===n||null===(i=n.user)||void 0===i?void 0:i.Company),f=(0,Ve.jW)(),g=(0,He.b)(),v=Boolean(f||(null==g||null===(s=g.data)||void 0===s?void 0:s.length)>0||u.resources&&(!!u.resources.length||p)),y=(0,Z.Nc)(o,Ue.T.IwsEnableVirtualAssistant)&&c.isIWSEnabled,k=(0,re.kC)(),b=(0,Z.Nc)(o,Ue.T.SimplifiedNav),E=v&&(!b&&!k.screenSize.onMobile||b&&k.screenSize.media===re.BC.none);return r.createElement(Be.HO,null,!x.NZ.citrixCloudConnected&&r.createElement(Be.RU,null),!x.NZ.isNative&&r.createElement(Ct,{ref:a}),r.createElement(je.R,{company:h,onLogoFocus:function(){return a.current&&a.current.onBlur()},collapseOnMobile:!0},E&&r.createElement(Be.BD,null,r.createElement(bt,null)),r.createElement(Be.UL,null,r.createElement(dt,{hasSearch:v,hasVirtualAssistant:y,hasUserMenu:!0})),k.screenSize.onMobile&&!b&&r.createElement("div",{className:(0,ue.css)(wt.mobileTitle)},e.mobileMastheadTitle)))}var Nt=n(1223),Tt=n(51974),At=n(4853),Ft=ue.StyleSheet.create({container:{height:0,position:"relative",zIndex:1},banner:(0,U.Z)({background:Ze.blue800,color:"#fff",display:"flex",alignItems:"center",padding:"13px 37px"},At.onMobile,{padding:"13px 18px"}),icon:{paddingRight:"10px"},close:{paddingLeft:"10px",cursor:"pointer"},text:{flexGrow:1}}),Pt=function(e){(0,M.Z)(n,e);var t=(0,O.Z)(n);function n(){var e;(0,R.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,U.Z)((0,j.Z)(e),"state",{}),(0,U.Z)((0,j.Z)(e),"timeout",void 0),(0,U.Z)((0,j.Z)(e),"close",(function(){return e.setState({closed:!0})})),e}return(0,D.Z)(n,[{key:"render",value:function(){return this.state.closed?null:r.createElement("div",{className:(0,ue.css)(Ft.container)},r.createElement("div",{className:(0,ue.css)(Ft.banner)},r.createElement(Nt.G,{size:24,className:(0,ue.css)(Ft.icon),alt:(0,l.t)("Workspace:info_icon"),color:Ze.white}),r.createElement("span",{className:(0,ue.css)(Ft.text)},(0,l.t)("Workspace:refreshing_resources")),r.createElement(Tt.b,{size:12,className:(0,ue.css)(Ft.close),onClick:this.close,color:Ze.white})))}},{key:"componentDidMount",value:function(){this.timeout=window.setTimeout(this.close,5e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}}]),n}(r.Component),Rt=n(30029),Dt=n(63870);var Mt=n(90124);var Ot=n(32305);var _t=n(31870);var zt=n(87732),Lt=ue.StyleSheet.create({smartbanner:{alignItems:"center",background:Ze.blue800,bottom:"0",boxShadow:"0 2px 2px ".concat(Ze.black),display:"flex",flexDirection:"row",height:"72px",justifyContent:"space-evenly",left:"0",overflow:"hidden",position:"fixed",width:"100%",zIndex:1},smartbannerText:{marginLeft:ke.mediumSpace,marginRight:ke.mediumSpace,color:Ze.white,fontWeight:Ce.weights.regular,fontSize:Ce.sizes.sml},smartbannerClose:{marginLeft:ke.mediumSpace},smartbannerAction:{marginRight:ke.mediumSpace,color:Ze.white,fontWeight:Ce.weights.medium,fontSize:Ce.sizes.sml,textDecoration:"none"}}),Wt=function(e){(0,M.Z)(n,e);var t=(0,O.Z)(n);function n(){var e;(0,R.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,U.Z)((0,j.Z)(e),"androidBannerDismissedKey","androidBannerDismissedKey"),(0,U.Z)((0,j.Z)(e),"state",{shouldShowMobileBanner:!(0,zt.Kk)(e.androidBannerDismissedKey)}),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this;return this.state.shouldShowMobileBanner&&r.createElement("div",{className:(0,ue.css)(Lt.smartbanner)},r.createElement("span",{className:(0,ue.css)(Lt.smartbannerClose)},r.createElement(ne.z.IconOnly,{icon:Tt.b,color:Ze.white,title:(0,l.t)("Workspace:mobile_smart_banner.banner_close"),size:16,onClick:function(){e.setState({shouldShowMobileBanner:!1}),(0,zt.sn)(e.androidBannerDismissedKey,!0)}})),r.createElement("span",{className:(0,ue.css)(Lt.smartbannerText)},(0,l.t)("Workspace:mobile_smart_banner.banner_text")),r.createElement("a",{className:(0,ue.css)(Lt.smartbannerAction),href:"intent://scan/#Intent;scheme=ctxworkspace;package=com.citrix.Receiver;S.browser_fallback_url=http://play.google.com/store/apps/details?id=com.citrix.Receiver;end"},(0,l.t)("Workspace:mobile_smart_banner.banner_action")))}}]),n}(r.Component),Bt=ue.StyleSheet.create({message:{margin:"0 5px 20px",maxWidth:"100%",textAlign:"center"}}).message,Ht=function(e){(0,M.Z)(n,e);var t=(0,O.Z)(n);function n(){var e;(0,R.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,U.Z)((0,j.Z)(e),"onClose",(function(){location.href="#/login",e.props.onCloseSuccess()})),e}return(0,D.Z)(n,[{key:"render",value:function(){return r.createElement(we.u_,(0,$.Z)({},this.props,{closeOnOverlayClick:!1,closeOnEscape:!1,onCloseSuccess:this.onClose,onDismiss:this.onClose}),r.createElement(we.fe,null,r.createElement("div",{className:(0,ue.css)(Bt)},(0,l.t)("Workspace:logon_expired")),r.createElement(ne.z.Primary,{style:{width:"100%"},onClick:this.onClose},(0,l.t)("Workspace:logon"))))}}]),n}(r.Component);function jt(e){(function(e){return e.type===p.tw.ANALYTICS_TRACKING_EVENT&&e.payload&&e.payload.trackType})(e)&&(0,ie.L)(e.payload.trackType,e.payload.metadata)}function Ut(){return r.createElement(p.nb,{listener:function(e){return jt(e)}})}var Vt=n(71436),Kt=n(44322),Xt=n(19409),Qt=n(1406),qt=(0,Ke.g)((function(){return n.e(9501).then(n.bind(n,29501)).then((function(e){return e.Error404}))}));function Gt(e){return(e.integration.value.useIsAvailable||function(){return!0})()?r.createElement(e.integration.value.component,{setMobileMastheadTitle:e.setMobileMastheadTitle}):r.createElement(qt,null)}function Yt(e){return e.integration.loading?r.createElement(Qt.fz,null):e.integration.value?r.createElement(Gt,e):r.createElement(qt,null)}var Jt=n(46912);function $t(e){var t=(0,c.useLocation)(),n=(0,c.useHistory)(),i=(0,c.useRouteMatch)(),s=(0,d.T)(),o=(0,m.OK)(),a=(0,C.N)(),l=(0,_e.j)().workspaceConfiguration,u=(0,J.SE)();return e.route.isLoading({filesService:s,resources:o,integrations:a,userContext:u})?r.createElement(Jt.Q,null):r.createElement(e.route.component,(0,$.Z)({},e,{history:n,location:t,match:i},s.value,{workspaceConfiguration:l,userContext:u,resourceContext:o.value,setMobileMastheadTitle:e.setMobileMastheadTitle,setRefreshPageFn:e.setRefreshPageFn,clearRefreshPageFn:e.clearRefreshPageFn}))}function en(e){var t=(0,c.useLocation)(),n=(0,C.N)(),s=(0,d.T)(),o=(0,_e.j)().workspaceConfiguration,a=(0,J.SE)(),l=(0,m.OK)(),u=Xt.V.filter((function(e){return e.isAvailable((0,i.Z)((0,i.Z)({location:t},s.value),{},{workspaceConfiguration:o,userContext:a,resourceContext:l.value}))&&e.component}));return r.createElement(c.Switch,null,u.map((function(t){return r.createElement(c.Route,{key:t.key,path:t.paths,render:function(){return r.createElement($t,(0,$.Z)({key:t.key,route:t},e))}})})),n.resolveByCapability(Z.fy.route).filter((function(e){var t,n;return null===(t=e.registration)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.path})).map((function(t){return r.createElement(c.Route,{key:t.moduleKey,path:t.registration.metadata.path,render:function(){return r.createElement(Yt,{integration:t,setMobileMastheadTitle:e.setMobileMastheadTitle})}})})),r.createElement(c.Route,{component:qt}))}var tn=function(){0},nn=function(e){(0,M.Z)(n,e);var t=(0,O.Z)(n);function n(){var e;(0,R.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,U.Z)((0,j.Z)(e),"state",{mobileMastheadTitle:""}),(0,U.Z)((0,j.Z)(e),"refreshPage",tn),(0,U.Z)((0,j.Z)(e),"stopListening",(function(){})),(0,U.Z)((0,j.Z)(e),"backToDashboard",(function(){e.props.history.push("/")})),(0,U.Z)((0,j.Z)(e),"preventNavigationByDrag",(function(){x.NZ.isNative&&(document.addEventListener("drop",(function(e){e.preventDefault()})),document.addEventListener("dragover",(function(e){e.preventDefault()})))})),(0,U.Z)((0,j.Z)(e),"setMobilePageTitle",(function(t){e.setState({mobileMastheadTitle:t})})),e}return(0,D.Z)(n,[{key:"hasPushFeature",get:function(){return(0,Z.Nc)(this.props.workspaceConfiguration,Ue.T.WsuiEnablePushNotifications)}},{key:"render",value:function(){var e=this,t=this.props.breakpoints,n=(0,Et.DR)()&&t.screenSize.onMobile;return r.createElement(Be.Mx,null,r.createElement(Ut,null),r.createElement(It,{mobileMastheadTitle:this.state.mobileMastheadTitle}),x.NZ.citrixCloudConnected&&r.createElement(Be.cF,null),n&&r.createElement(Fe,{refreshPage:this.refreshPage}),r.createElement(Be.j1,null,!n&&r.createElement(We.B,{refreshPage:this.refreshPage}),this.state.hasError?r.createElement(ee.u,{title:(0,l.t)("javascript:error_boundary.title"),icon:te.$},r.createElement("p",null,(0,l.t)("javascript:error_boundary.message")),r.createElement(ne.z.Secondary,{onClick:this.backToDashboard},(0,l.t)("javascript:error_boundary.back_to_home"))):r.createElement(Be.Lk,null,this.props.refreshingResources&&!(0,Et.x3)()&&r.createElement(Pt,null),r.createElement(en,{setMobileMastheadTitle:this.setMobilePageTitle,setRefreshPageFn:function(t){return e.refreshPage=t},clearRefreshPageFn:function(){return e.refreshPage=tn}}))),!x.NZ.isNative&&r.createElement(Kt.r,null),(0,Et.s0)()&&r.createElement(Wt,null),r.createElement(Le,null))}},{key:"componentDidMount",value:function(){var e=this;(0,se.pV)(),(0,x.oh)((function(){return e.props.showModal(r.createElement(Ht,null))})),this.stopListening=this.props.history.listen((function(){(0,ie.I)()})),this.hasPushFeature&&(0,Vt.tn)(this.props.workspaceConfiguration),this.preventNavigationByDrag(),this.props.integrations.resolveByCapability(Z.fy.appStartup).forEach(function(){var e=(0,H.Z)(K().mark((function e(t){var n;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.resolver,e.next=3,n;case 3:e.sent.onAppStart();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"componentDidUpdate",value:function(e){e.location.pathname!==this.props.location.pathname&&this.setState({hasError:!1})}},{key:"componentDidCatch",value:function(e,t){(0,le.H)(e,{additionalContext:{errorInfo:t}}),this.state.hasError?location.assign((0,Pe.W)("jserror")):this.setState({hasError:!0})}},{key:"componentWillUnmount",value:function(){this.stopListening(),this.hasPushFeature&&(0,Vt.SH)()}}]),n}(r.Component),rn=(0,o.P)((0,oe.Z5)(ae.ZP)(nn));function sn(e){var t,n,i,s,o,a,l,u,p,h,f,g,v,y=(0,_e.j)().workspaceConfiguration,k=(0,re.kC)(),b=(0,c.useHistory)(),E=(0,c.useLocation)(),S=(0,C.N)();return t=(0,Dt.S)(),n=t.userDetails,i=t.isIWSEnabled,s=t.error,o=r.useRef(!1),a=(0,Z.nw)(),r.useEffect((function(){!window.pendo||o.current||s||(window.pendo.initialize({visitor:{id:n.userId,isNative:Mt.NZ.isNative,nativePlatform:Mt.NZ.nativePlatform,ws_iwsEnabled:i,ws_storeFrontToWorkspaceMigrationGuideEnabled:Mt.NZ.showStoreFrontToWorkspaceMigrationGuideInfo,ws_cwaBuildVersion:Mt.NZ.cwaBuildVersion,ws_onVanityDomain:a},account:{id:n.orgId,cc_paidEntitlementCount:n.productionCloudServicesCount,cc_paidEntitlements:n.productionCloudServicesList,cc_trialEntitlementCount:n.productionTrialCloudServicesCount,cc_trialEntitlements:n.productionTrialCloudServicesList,cc_accountType:n.accountType,cc_isPartner:n.isPartner,cc_cloudServices:n.cloudServices}}),o.current=!0)}),[n,i,s,o,a]),u=r.useRef(!1),p=(0,m.OK)(),h=(0,d.T)(),f=(0,J.SE)(),g=function(e,t,n){var r,i,s=t.loading||!(null===(r=t.value)||void 0===r||null===(i=r.user)||void 0===i||!i.Id),o=n.loading||n.isIWSEnabled;return!(!e||o||s)}(null===(l=p.value)||void 0===l?void 0:l.isNetworkValidatedEnumeration,h,f),v=r.useMemo((function(){var e,t=(null===(e=p.value)||void 0===e?void 0:e.resources)||[];if(!g)return null;var n=t.filter(Me);return 0===n.length||t.length!==n.length?null:n}),[p,g]),r.useEffect((function(){if(null!==v&&!u.current){var e=v.filter((function(e){return e.desktopassignmenttype===Re.UI.AssignOnFirstUse||e.desktopassignmenttype===Re.UI.Assigned})),t=v.filter((function(e){return e.desktopassignmenttype===Re.UI.Shared})),n=v.filter((function(e){var t;return null===(t=e.keywords)||void 0===t?void 0:t.includes(De)}));(0,ie.L)("DesktopOnlyUser",{desktopCount:v.length,staticDesktopCount:e.length,sharedDesktopCount:t.length,treatAsAppCount:n.length}),u.current=!0}}),[v]),function(){var e=r.useRef(!1),t=(0,m.OK)();r.useEffect((function(){var n,r;if((null===(n=t.value)||void 0===n?void 0:n.isNetworkValidatedEnumeration)&&!e.current){var i={mobileApps:0,webApps:0,desktopApps:0,totalApps:0};((null===(r=t.value)||void 0===r?void 0:r.resources)||[]).forEach((function(e){(0,ce.LO)(e)?(i.webApps++,i.totalApps++):(0,ce.k)(e)?(i.mobileApps++,i.totalApps++):(0,ce.P)(e)&&!e.isdesktop&&(i.desktopApps++,i.totalApps++)})),i.webApps&&(0,ie.L)("userHasWebApps"),(0,ie.L)("userAppsCount",i),e.current=!0}}),[t])}(),function(){var e=(0,Dt.S)(),t=e.isIWSEnabled,n=e.isValidatedReturnUser;r.useMemo((function(){Rt.R.setSessionAttribute("workspaceIntelligenceEnabled",!!t)}),[t]),r.useMemo((function(){Rt.R.setSessionAttribute("UserLoggedInBefore",n)}),[n])}(),function(){var e=(0,Dt.S)(),t=e.userDetails,n=e.isIWSEnabled;r.useEffect((function(){(0,le.Iv)(null==t?void 0:t.userId),(0,le.cg)({"workspace-intelligence":n?"enabled":"disabled"},{global:!0})}),[t,n]),r.useEffect((function(){(0,Ot.t)()&&(0,ie.L)("LoadedFromLegacyOfflineAppcache",{CWA:x.NZ.nativePlatform})}),[])}(),function(){var e=(0,_e.j)().workspaceConfiguration;r.useEffect((function(){(0,it.n)(e,it.L.Apps)&&(0,ie.L)("appsEnabled"),(0,it.n)(e,it.L.Desktops)&&(0,ie.L)("desktopsEnabled"),(0,it.n)(e,it.L.Files)&&(0,ie.L)("filesEnabled")}),[e])}(),function(){var e=(0,_e.j)().workspaceConfiguration,t=r.useRef(!1);r.useEffect((function(){if(!t.current&&(0,_t.fH)(e)){var n=e.userInterface.fallbackConfiguration,r=n.altStore?n.altStore.length+1:1;(0,ie.L)("ConfiguredStorefrontFallback",{fallbackStoreCount:r}),t.current=!0}}),[e])}(),r.createElement(rn,(0,$.Z)({},e,{breakpoints:k,workspaceConfiguration:y,history:b,location:E,integrations:S}))}function on(e){return r.createElement(J.Rm,null,r.createElement(q,null,r.createElement(Y.I,{shouldDetectCWA:!0},(function(e){return r.createElement(G.JB,null,r.createElement(W,null),r.createElement(sn,{refreshingResources:e}))})),r.createElement(S,null),r.createElement(P,null)))}},33814:function(e,t,n){"use strict";n.d(t,{D:function(){return c}});var r=n(27378),i=n(9604),s=n(20883),o=n(14433),a=n(75219),l=i.StyleSheet.create({title:{position:"absolute",top:"20px",left:"20px",margin:"0",fontSize:"24px",fontWeight:a.weights.light},close:{position:"absolute",top:"15px",right:"15px",cursor:"pointer",padding:"5px"}});function c(e){var t=e.children,n=e.close;return r.createElement("div",null,r.createElement(s.z.Wrapper,{onClick:n},r.createElement(o.Tw,{className:(0,i.css)(l.close),size:16})),r.createElement("h1",{className:(0,i.css)(l.title)},t))}},46230:function(e,t,n){"use strict";n.d(t,{W:function(){return p}});var r=n(27378),i=n(9604),s=n(6848),o=n(20883),a=n(73450),l=n(86985),c=n(99890),u=i.StyleSheet.create({shareOption:{margin:"0 30px 50px"},shareOptionEnabled:{cursor:"pointer"},button:{border:"1px solid ".concat(l.grey300),borderRadius:"2px",":hover":{boxShadow:"2px 2px 2px 0 rgba(0,0,0,0.2)"}},icon:{width:"250px",height:"200px",backgroundColor:"#e8e8e8",display:"flex",justifyContent:"center",alignItems:"center"},title:{width:"250px",height:"60px",display:"table-cell",textAlign:"center",verticalAlign:"middle",fontSize:"18px"},description:{width:"250px",marginTop:"25px",wordWrap:"break-word",textAlign:"center",lineHeight:"22px"},disabled:c.disabled,focus:(0,a.Z)({},":focus > :first-child",c.focusOutset)});function p(e){var t=(0,s.P)().theme;return r.createElement(o.z.Wrapper,{onClick:e.onClick,className:(0,i.css)(u.focus)},r.createElement("div",{className:(0,i.css)(u.shareOption,!e.disabled&&u.shareOptionEnabled)},r.createElement("div",{className:(0,i.css)(u.button,e.disabled&&u.disabled)},r.createElement("div",{className:(0,i.css)(u.icon)},r.createElement(e.icon,{color:t.themeColors.primary})),r.createElement("div",{className:(0,i.css)(u.title)},e.title)),r.createElement("div",{className:(0,i.css)(u.description)},e.description,e.children)))}},35292:function(e,t,n){"use strict";n.d(t,{v:function(){return U}});var r=n(27378),i=n(15687),s=n(54903),o=n(59245),a=n(61431),l=n(50),c=n(64897),u=n(25180),p=n(58640),h=n(55117),d=n(38638),m=n(54559),f=n(73450),g=n(42651),v=n(68121),y=n(26140),k=n(46230),x=n(9604),b=n(14433),E=n(86985),S=x.StyleSheet.create({warning:{display:"flex",border:"2px solid ".concat(E.orange700),background:E.orange100,padding:"10px",marginTop:"15px",textAlign:"left",fontSize:"12px"},icon:{marginRight:"5px",flexShrink:0}});function w(){return r.createElement("div",{className:(0,x.css)(S.warning)},r.createElement(b.aN,{size:20,className:(0,x.css)(S.icon)}),(0,o.t)("App/Files:share.enabled_one_file"))}var Z=function(e){(0,d.Z)(n,e);var t=(0,m.Z)(n);function n(){var e;(0,u.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,f.Z)((0,h.Z)(e),"handleClick",(function(){if(e.isEnabled()){var t=e.props.items||[],n=(0,c.Z)(t,1)[0],r=void 0===n?{}:n,i=r.StreamID||r.Id||"";(0,y.F)(i).then(e.props.onResolve)}})),e}return(0,p.Z)(n,[{key:"render",value:function(){if(!this.shouldRender())return null;var e=this.props.items&&1!==this.props.items.length;return r.createElement(k.W,{items:[],onClick:this.handleClick,disabled:!this.isEnabled(),icon:g.T,description:(0,o.t)("App/Files:share.approvals_description"),title:(0,o.t)("App/Files:share.approvals")},e&&r.createElement(w,null))}},{key:"shouldRender",value:function(){return!!this.props.account.Preferences.EnableDocumentApprovalWorkflow&&(0===(this.props.items||[]).length||this.props.items.every((function(e){return!!(e.ItemOperations&v.g5X.CanInitiateApproval)})))}},{key:"isEnabled",value:function(){return!this.props.items||1===this.props.items.length}}]),n}(r.Component),C=(0,l.B)(Z),I=n(14374),N=n(56713),T=function(e){(0,d.Z)(n,e);var t=(0,m.Z)(n);function n(){var e;(0,u.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,f.Z)((0,h.Z)(e),"handleClick",(function(){(0,N.h)({account:e.props.account,user:e.props.user,items:e.props.items,parentUrl:e.props.parentUrl,isConnectorShare:e.props.isConnectorShare,isEncryptedEmail:e.props.isEncryptedEmail,showModal:e.props.showModal,isValidated:e.props.isValidated}).then(e.props.onResolve).catch((function(){}))})),e}return(0,p.Z)(n,[{key:"render",value:function(){return(this.props.items||[]).every((function(e){return!!(e.ItemOperations&v.g5X.CanShareEmail)}))?r.createElement(k.W,{items:[],onClick:this.handleClick,icon:I.l,description:(0,o.t)("App/Files:share.email_description"),title:(0,o.t)("App/Files:share.email_citrix")}):null}}]),n}(r.Component),A=n(41476),F=n(57135),P=n.n(F),R=n(71959),D=n(63049),M=n(12648),O=function(e){(0,d.Z)(i,e);var t,n=(0,m.Z)(i);function i(){var e;(0,u.Z)(this,i);for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e=n.call.apply(n,[this].concat(r)),(0,f.Z)((0,h.Z)(e),"state",{hasShareAccessLevelCapability:!1}),(0,f.Z)((0,h.Z)(e),"handleClick",(function(){(0,M.T)({account:e.props.account,user:e.props.user,items:e.props.items,parentUrl:e.props.parentUrl,isConnectorShare:e.props.isConnectorShare,showModal:e.props.showModal,isValidated:e.props.isValidated}).then(e.props.onResolve).catch((function(){}))})),e}return(0,p.Z)(i,[{key:"componentDidMount",value:(t=(0,A.Z)(P().mark((function e(){var t=this;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.kx)(this.props.items).then((function(e){t.setState({hasShareAccessLevelCapability:e})}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return this.props.account.Preferences.SharePreferences.SendShareLinkShareAccessLevels===v.cO3.None||(0,R.oC)(this.props.account.Preferences.SharePreferences.SendShareLinkShareAccessLevels)&&!this.state.hasShareAccessLevelCapability?null:(this.props.items||[]).every((function(e){return!!(e.ItemOperations&v.g5X.CanShareLink)}))?r.createElement(k.W,{items:[],onClick:this.handleClick,icon:D.F,description:(0,o.t)("App/Files:share.copy_description"),title:(0,o.t)("App/Files:share.copy")}):null}}]),i}(r.Component),_=n(50734),z=n(26821),L=n(11062),W=n(90301),B=n(32257),H=function(e){(0,d.Z)(n,e);var t=(0,m.Z)(n);function n(){var e;(0,u.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,f.Z)((0,h.Z)(e),"handleSendClick",(function(){if(e.optionEnabled())if(e.props.items.length>0&&e.getRs4Info(e.props.items[0]).canSendForSignatureOrSignYourself)(0,L.e)(e.props.items[0]);else{var t=(0,W.u)();z.h.newTransaction().execute().then((function(e){var n=e.Link;t.location.replace(n)})).catch((function(){t.location.replace("https://secure.rightsignature.com")}))}})),e}return(0,p.Z)(n,[{key:"render",value:function(){return this.signatureEnabled()&&this.props.user.Roles.includes(v.i44.CanSendDocumentsForSignature)&&this.allItemsAreSignable()?r.createElement(k.W,{onClick:this.handleSendClick,items:this.props.items,disabled:!this.optionEnabled(),icon:_.I,description:(0,o.t)("App/Files:share.send_for_signature_description"),title:(0,o.t)("App/Files:share.send_for_signature")},this.props.items.length>1&&r.createElement(w,null)):null}},{key:"optionEnabled",value:function(){return this.props.items.length<=1}},{key:"allItemsAreSignable",value:function(){var e=this;return this.props.items.every((function(t){return(0,B.Z)({accountPrefs:e.props.account.Preferences,item:t}).canSendForSignatureOrSignYourself}))}},{key:"signatureEnabled",value:function(){return this.props.account.Preferences.EnableIntegrations&&this.props.account.Preferences.IntegrationProviders.includes(v.BOe.RightSignature4)}},{key:"getRs4Info",value:function(e){return(0,B.Z)({accountPrefs:this.props.account.Preferences,item:e})}}]),n}(r.Component),j=(0,s.P)((0,l.B)(H));var U=(0,l.B)((0,s.P)((function(e){return r.createElement(i.xG,e,r.createElement(a.I,{onClose:e.onCloseSuccess,title:(0,o.t)("App/Files:share.title")},r.createElement(T,{user:e.user,account:e.account,parentUrl:e.apiUrl,isConnectorShare:e.isConnector,items:e.selectedItems,onResolve:e.onCloseSuccess,showModal:e.showModal,isValidated:!0}),r.createElement(O,{user:e.user,account:e.account,parentUrl:e.apiUrl,isConnectorShare:e.isConnector,items:e.selectedItems,onResolve:e.onCloseSuccess,showModal:e.showModal,isValidated:!0}),r.createElement(C,{items:e.selectedItems,onResolve:e.onCloseSuccess}),r.createElement(j,{items:e.selectedItems||[],selectionCapabilities:e.selectionCapabilities||[],onResolve:e.onCloseSuccess})))})))},56713:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(90932),i=n(11277),s=n(15682);function o(e){return(0,i.X)((0,r.Z)((0,r.Z)({},e),{},{getSharePreferences:s.J,updateSharePreferences:s.i,isWorkspace:!0}))}},12648:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var r=n(90932),i=n(11277),s=n(15682);function o(e){return(0,i.t)((0,r.Z)((0,r.Z)({},e),{},{getSharePreferences:s.J,updateSharePreferences:s.i,isWorkspace:!0}))}},61431:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var r=n(27378),i=n(9604),s=n(33814),o=i.StyleSheet.create({shareSelector:{height:"100%",background:"#fff",overflow:"auto",position:"relative"},shareOptions:{height:"auto",marginTop:"170px",display:"flex",alignItems:"flex-start",justifyContent:"center",flexWrap:"wrap",alignContent:"flex-start"}});function a(e){return r.createElement("div",{className:(0,i.css)(o.shareSelector)},r.createElement(s.D,{close:e.onClose},e.title),r.createElement("div",{className:(0,i.css)(o.shareOptions)},e.children))}},57152:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var r=(0,n(70768).g)((function(){return Promise.all([n.e(228),n.e(4760),n.e(9322),n.e(8784),n.e(7032),n.e(8148),n.e(6102),n.e(7329),n.e(2224),n.e(299),n.e(120),n.e(2664),n.e(4905),n.e(657),n.e(1832),n.e(1103),n.e(7430),n.e(792),n.e(8810),n.e(1288),n.e(1937),n.e(6699),n.e(6459),n.e(5754),n.e(1678),n.e(1331),n.e(555),n.e(3925),n.e(2500),n.e(8060),n.e(6907),n.e(9234),n.e(3660),n.e(3650)]).then(n.bind(n,86931)).then((function(e){return e.FolderBase}))}))},32881:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(27378),i=n(20896),s=n(14433),o=n(59245);var a=(0,n(50).B)((function(e){var t=e.user;return!t.EnableHardLimit||t.StorageQuotaPercent<100?null:r.createElement(i.u,{className:e.className,hoverTrigger:r.createElement(s.uz,{size:e.size})},(0,o.t)("App/Files:quota.quota_exceeded_tooltip"))}))},63514:function(e,t,n){"use strict";n.d(t,{f:function(){return d}});var r=n(29603),i=n(27378),s=n(5319),o=n(72498),a=n(68121),l=n(59245),c=n(34388),u=n(57152),p=n(32881),h=n(99982);var d=(0,n(60379).j)({component:function(e){return i.createElement(u.p,(0,r.Z)({},e,{id:e.match.params.id,getUrl:d.getUrl,showFullQuotaInfo:!0}))},path:"/files/myfiles",pathParams:{id:!1},getNavLinkProps:function(e){return{icon:(0,c.Nc)(e,h.T.WsuiFilesUIModernization)?s.K:o.X,title:(0,l.t)("javascript:personal_folders"),secondaryIcon:p.r,performanceMark:"FilesPersonalFoldersLink_Click"}},isAvailable:function(e){return e.account.Preferences.CanStoreItemsInShareFile&&e.account.Preferences.EnableHomeFolders&&e.user.Roles.includes(a.i44.Employee)}})},4514:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(27378),i=n(9604),s=n(86985),o=i.StyleSheet.create({emptyState:{position:"relative",border:"1px solid ".concat(s.grey300),borderRadius:"2px",background:"#fff",lineHeight:"20px"}}).emptyState;function a(e){return r.createElement("div",{className:(0,i.css)(o)},e.children)}},86770:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(9604),i=n(86985),s=n(75219),o=r.StyleSheet.create({tabsWithViewAll:{display:"flex",justifyContent:"space-between",flexWrap:"wrap-reverse",alignItems:"center"},tabsTitle:{color:i.grey900,fontWeight:s.weights.medium,fontSize:s.sizes.xl}})},80259:function(e,t,n){"use strict";n.d(t,{ep:function(){return B},I5:function(){return O},TZ:function(){return W},eA:function(){return b}});var r=n(29603),i=n(25180),s=n(58640),o=n(55117),a=n(38638),l=n(54559),c=n(73450),u=n(27378),p=n(9604),h=n(4156),d=n(35243),m=n(59245),f=n(23875),g=n(19509),v=n(58908),y=n(64647),k=p.StyleSheet.create({carouselRef:{height:"100%"},resources:{display:"flex",flexWrap:"wrap",height:"100%",alignContent:"flex-start",overflow:"hidden"},carousel:{flexWrap:"nowrap",overflowX:"auto"},listView:{flexDirection:"column",overflow:"visible",overflowX:"visible"}});function x(e){var t=(0,g.kC)(),n=t.screenSize.media!==g.BC.none||(0,y.f_)(),r=(0,p.css)(k.resources,n&&k.carousel,t.screenSize.media===g.BC.small&&k.listView);return e.withTransitions?u.createElement(v.Z,{className:r},e.children):u.createElement("div",{className:r},e.children)}var b,E=n(69091),S=n(94573),w=n(59351),Z=n(12913),C=n(82256),I=n(7513),N=n(86770),T=n(85843),A=n(99443),F=n(55754),P=n(4514),R=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),(0,c.Z)((0,o.Z)(e),"carouselRef",u.createRef()),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props.children;return this.props.resources.length?u.createElement("div",{ref:this.carouselRef,className:(0,p.css)(k.carouselRef)},u.createElement(x,{withTransitions:!0},this.props.resources.map((function(e){return u.createElement(A.ZP,{timeout:1500,key:e.id},(function(t){return u.createElement(F.s4,{key:e.id,resource:e,transitionState:t})}))})))):u.createElement(P.r,null,u.createElement(T.u,{icon:this.props.emptyState.icon},this.props.emptyState.children,u.createElement("br",null),e))}},{key:"componentDidUpdate",value:function(e){e.tab!==this.props.tab&&this.showCarousel()&&this.carouselRef.current&&(this.carouselRef.current.scrollLeft=0)}},{key:"showCarousel",value:function(){return this.props.screenSize.media!==g.BC.none||(0,y.f_)()}}]),n}(u.Component),D=(0,g.gK)(R),M=p.StyleSheet.create({tabContent:{marginTop:"20px"}});function O(e){return u.createElement("div",{className:(0,p.css)(M.tabContent)},e.children)}!function(e){e[e.recents=0]="recents",e[e.favorites=1]="favorites"}(b||(b={}));var _=n(17837),z=n(43937),L=p.StyleSheet.create({tabContainer:{marginBottom:"20px",position:"relative"}});function W(e){return u.createElement(_.yp,{className:(0,p.css)(L.tabContainer)},(function(t){return u.createElement(u.Fragment,null,(0,y.DR)()?e.title&&u.createElement("div",{id:t,className:(0,p.css)(N.W.tabsTitle)},e.title):u.createElement(z.NZ,{id:t,"data-testid":e.testId},e.title),e.children)}))}var B=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),(0,c.Z)((0,o.Z)(e),"tileDimensions",{width:e.props.tileDimensions.width+20,height:e.props.tileDimensions.height+20}),(0,c.Z)((0,o.Z)(e),"state",{activeTab:b.recents}),(0,c.Z)((0,o.Z)(e),"renderViewAllLink",(function(t){return u.createElement("div",{className:(0,p.css)(N.W.tabsWithViewAll)},t,u.createElement(f.r,e.props.viewAllLink))})),(0,c.Z)((0,o.Z)(e),"changeTab",(function(t){e.setState({activeTab:t})})),e}return(0,s.Z)(n,[{key:"widgetKey",get:function(){return"workspace_".concat(this.props.widgetKey,"_height")}},{key:"getTestId",value:function(e){var t=this.props.title.toLocaleLowerCase().replace(/\s/g,"-");return"widget-title-tabbed-".concat(t,"-").concat(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.loadableResourceContext,i=t.resources,s=void 0===i?[]:i;if(n.loading&&!s.length)return u.createElement(S.c,null,u.createElement(E.t,{tileDimensions:this.tileDimensions,maxRows:1},(function(t){var n=t.tilesToShow;return u.createElement(x,null,Array.from(new Array(n)).map((function(t,n){return u.createElement(e.props.skeletonTile,{key:n})})))})));if(Z.S.mark(Z.S.events.resourcesWidget),!this.props.resources.length)return u.createElement(W,{title:this.props.title,testId:this.getTestId("empty")},u.createElement(w.E,this.props.emptyState));var o=(0,I.b)(this.props.resources),a=(0,C.N)(this.props.resources),l={widgetKey:this.widgetKey,tileDimensions:this.tileDimensions,maxRows:5,showExtraRow:!0,maxTilesForMobile:30,maxVisibleTiles:Math.max(o.length,a.length)};return u.createElement(W,{title:this.props.title,testId:this.getTestId(b[this.state.activeTab])},u.createElement(h.m,{activeTab:this.state.activeTab,onChange:this.changeTab,tabsRenderer:this.renderViewAllLink},u.createElement(d.O,{value:b.recents,label:(0,m.t)("Workspace:recents")},u.createElement(O,null,u.createElement(E.t,(0,r.Z)({},l,{canResize:!!o.length}),(function(t){var n=t.tilesToShow;return u.createElement(D,{resources:o.slice(0,n),emptyState:{icon:e.props.emptyState.icon,children:e.props.emptyRecentsTab},key:"recents",tab:e.state.activeTab},u.createElement(f.n,e.props.viewAllLink))})))),this.props.showSubscriptions&&u.createElement(d.O,{value:b.favorites,label:(0,m.t)("Workspace:favorites")},u.createElement(O,null,u.createElement(E.t,(0,r.Z)({},l,{canResize:!!a.length}),(function(t){var n=t.tilesToShow;return u.createElement(D,{resources:a.slice(0,n),emptyState:{icon:e.props.emptyState.icon,children:e.props.emptyFavoritesTab},key:"favorites",tab:e.state.activeTab},u.createElement(f.n,e.props.viewAllLink))}))))))}}]),n}(u.Component)},69091:function(e,t,n){"use strict";n.d(t,{t:function(){return E}});var r=n(90932),i=n(25180),s=n(58640),o=n(55117),a=n(38638),l=n(54559),c=n(73450),u=n(27378),p=n(19509),h=n(82314),d=n(64647),m=n(87732),f=n(9604),g=n(49529),v=n(86985),y=n(20913),k=f.StyleSheet.create({grabber:{display:"flex",alignItems:"center",cursor:"row-resize",height:"20px",":hover > :nth-child(odd)":{borderColor:v.grey300},":hover > :nth-child(2)":{borderColor:"#777"}},grabberSide:{borderTop:"1px solid #E6E6E6",flex:1},grabberMiddle:{borderStyle:"solid",borderWidth:"2px 0",borderColor:"#A0A0A0",margin:"0 10px",flex:"0 0 ".concat(y.mediumLargeSpace),height:"2px"}}),x=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),(0,c.Z)((0,o.Z)(e),"maxHeight",e.props.height),(0,c.Z)((0,o.Z)(e),"state",{startPosition:0,delta:0}),(0,c.Z)((0,o.Z)(e),"start",(function(t,n){e.props.setIsResizing(!0),e.setState((function(e,t){return{startPosition:t.height-n.y}}))})),(0,c.Z)((0,o.Z)(e),"updateHeight",(function(t,n){var r=e.state.startPosition+n.y,i=Math.max(e.props.minHeight,r),s=Math.min(i,Math.max(e.props.maxHeight+10,e.props.height));e.maxHeight=Math.max(e.maxHeight,s),e.setState((function(t,n){return{delta:e.maxHeight-Math.max(r,n.minHeight)}})),e.props.updateHeight(s)})),(0,c.Z)((0,o.Z)(e),"save",(function(){var t=Math.round(e.props.height/e.props.snapHeight)*e.props.snapHeight;e.setState({delta:0}),e.maxHeight=0,e.props.updateHeight(t),(0,m._m)(e.props.widgetKey,t),e.props.setIsResizing(!1)})),e}return(0,s.Z)(n,[{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement(g.DraggableCore,{onDrag:this.updateHeight,onStart:this.start,onStop:this.save},u.createElement("div",{className:(0,f.css)(k.grabber)},u.createElement("div",{className:(0,f.css)(k.grabberSide)}),u.createElement("div",{className:(0,f.css)(k.grabberMiddle)}),u.createElement("div",{className:(0,f.css)(k.grabberSide)}))),this.state.delta>0&&u.createElement("div",{style:{height:"".concat(this.state.delta,"px")}}))}}]),n}(u.Component),b=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),(0,c.Z)((0,o.Z)(e),"state",{height:(0,m.fp)(e.props.widgetKey)||e.props.tileDimensions.height,isResizing:!1}),(0,c.Z)((0,o.Z)(e),"updateWidth",(function(t){var n=t.bounds;e.state.width!==n.width&&e.setState({width:n.width})})),(0,c.Z)((0,o.Z)(e),"updateHeight",(function(t){e.setState({height:t})})),(0,c.Z)((0,o.Z)(e),"setIsResizing",(function(t){e.setState({isResizing:t})})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.canResize,s=t.screenSize,o=t.tileDimensions,a=t.maxVisibleTiles,l=t.grabberOffset,c=void 0===l?0:l,m=t.minRows,f=void 0===m?1:m,g=this.getTilesToShow(),v=i&&a>f*this.getTilesPerRow()&&!(0,d.f_)()&&s.media===p.BC.none;return u.createElement(u.Fragment,null,u.createElement(h.Z,{bounds:!0,onResize:this.updateWidth},(function(t){var i=t.measureRef;return u.createElement("div",{ref:i,style:{height:v?e.state.height+c:void 0}},n((0,r.Z)((0,r.Z)({},e.state),{},{tilesToShow:g})))})),v&&u.createElement(x,{widgetKey:this.props.widgetKey,height:this.state.height,updateHeight:this.updateHeight,minHeight:o.height*f,maxHeight:this.getMaxHeight(),snapHeight:o.height,setIsResizing:this.setIsResizing}))}},{key:"componentDidUpdate",value:function(e){if(!e.maxVisibleTiles&&this.props.maxVisibleTiles&&this.props.widgetKey&&!(0,m.fp)(this.props.widgetKey)){var t=Math.min(this.props.maxVisibleTiles,this.props.minRows);this.updateHeight(t*this.props.tileDimensions.height)}}},{key:"getMaxHeight",value:function(){var e=this.props.maxVisibleTiles?Math.ceil(this.props.maxVisibleTiles/this.getTilesPerRow()):1,t=Math.min(e,this.props.maxRows);return this.props.tileDimensions.height*t}},{key:"getTilesPerRow",value:function(){if(!this.props.tileDimensions.width)return 1;var e=0;return this.state.width>0&&(e=Math.floor(this.state.width/this.props.tileDimensions.width)),e}},{key:"getTilesToShow",value:function(){var e,t=this.getTilesPerRow(),n=this.getRows(),r=this.props,i=r.maxTilesForMobile;switch(r.screenSize.media){case p.BC.none:e=i&&(0,d.f_)()?i:t*n;break;case p.BC.small:e=5;break;default:e=i||t*n}return e}},{key:"getRows",value:function(){var e=1;return this.state.height>0&&(e=Math.floor(this.state.height/this.props.tileDimensions.height)),this.props.canResize&&this.props.showExtraRow&&e++,e}}]),n}(u.Component),E=(0,p.gK)(b)},59351:function(e,t,n){"use strict";n.d(t,{E:function(){return h}});var r=n(27378),i=n(9604),s=n(75219),o=n(20913),a=n(85843),l=n(59245),c=n(80259),u=n(4514),p=i.StyleSheet.create({title:{fontSize:s.sizes.base,fontWeight:s.weights.medium,marginBottom:o.mediumSpace}});function h(e){return r.createElement(c.I5,null,r.createElement(u.r,null,r.createElement(a.u,{icon:e.icon},r.createElement("div",{className:(0,i.css)(p.title)},e.title),(0,l.t)("Workspace:no_resources_contact"))))}},94573:function(e,t,n){"use strict";n.d(t,{p:function(){return i},c:function(){return h}});var r,i=(0,n(70768).g)((function(){return Promise.all([n.e(5063),n.e(3409),n.e(7715),n.e(2834),n.e(9527),n.e(6724),n.e(371),n.e(4760),n.e(4933),n.e(9350),n.e(9322),n.e(5956),n.e(9128),n.e(8784),n.e(9253),n.e(7464),n.e(7329),n.e(299),n.e(120),n.e(4905),n.e(5754),n.e(1678),n.e(4939),n.e(775)]).then(n.bind(n,28458)).then((function(e){return e.FilesWidget}))})),s=n(27378),o=n(9604),a=n(73450),l=n(20913),c=n(86985),u=n(4853),p=o.StyleSheet.create({widget:{marginBottom:"36px"},titleBar:{marginBottom:l.mediumLargeSpace},widgetBar:{borderRadius:"4px",height:"8px",margin:"".concat(l.mediumSpace," 0"),backgroundColor:c.grey300},shimmer:(r={position:"relative",overflow:"hidden"},(0,a.Z)(r,u.onSmallScreen,{width:"100%"}),(0,a.Z)(r,":after",{background:"linear-gradient(to right, rgba(249, 249, 249, 0) 25%, #f9f9f9 50%, rgba(249, 249, 249, 0) 75%)",backgroundRepeat:"no-repeat",animationName:[{"0%":{left:"-150px"},"100%":{left:"100%"}}],animationDuration:"3s",animationIterationCount:"infinite",content:'""',position:"absolute",width:"125px",height:"150%",top:"-50px",opacity:.5,transform:"rotate(25deg)"}),r)});function h(e){return s.createElement("div",{className:(0,o.css)(p.widget,p.shimmer)},s.createElement("div",{className:(0,o.css)(p.titleBar)},s.createElement(d,{width:64})),s.createElement("div",{className:(0,o.css)(p.titleBar)},s.createElement(d,{width:128})),e.children)}function d(e){return s.createElement("div",{className:(0,o.css)(p.widgetBar),style:{width:"".concat(e.width,"px")}})}},37690:function(e,t,n){"use strict";n.d(t,{n:function(){return v}});var r=n(29603),i=n(27378),s=n(9604),o=n(15687),a=n(1406),l=n(59245),c=n(12121),u=n(64897),p=n(96627),h=n(50),d=n(97478);function m(e){var t=i.useState({searchFilterOption:e.searchFilterOption,search:e.search}),n=(0,u.Z)(t,2),s=n[0],o=n[1];i.useEffect((function(){o({searchFilterOption:e.searchFilterOption,search:e.search})}),[e.searchFilterOption,e.search]);var a=(0,d.OK)().value,l=(0,h.T)().value;return i.createElement(p.j,(0,r.Z)({},l,{resourceContext:a,search:s.search,searchFilterOption:s.searchFilterOption}))}var f=n(37573),g=n(28309);var v=(0,f.A)(c.P)((function(e){var t=(0,h.T)();return i.createElement("div",{className:(0,s.css)(g.W.container)},i.createElement(o.u_,(0,r.Z)({isFullScreen:!0,className:(0,s.css)(g.W.modal)},e),i.createElement(o.xB,{onDismiss:e.onDismiss},i.createElement(o.r6,{className:(0,s.css)(g.W.modalTitle)},i.createElement("div",{className:(0,s.css)(g.W.title)},(0,l.t)("App/Search:search")))),i.createElement(o.fe,{className:(0,s.css)(g.W.body)},t.loading?i.createElement(a.ve,null):i.createElement(m,null))))}))},41167:function(e,t,n){"use strict";n.d(t,{g:function(){return ye}});var r=n(29603),i=n(25180),s=n(58640),o=n(55117),a=n(38638),l=n(54559),c=n(73450),u=n(27378),p=n(9604),h=n(15687),d=n(80246),m=n(20883),f=n(59245),g=n(49517),v=n(69635),y=n(44464),k=n(54510),x=n(2929),b=n(75219),E=n(20913),S=n(86985),w=n(57492),Z=n(41476),C=n(64897),I=n(57135),N=n.n(I),T=n(1406),A=n(28035),F=n(56552),P=n(96957);var R=(0,x.Z)("img",{target:"e1v3iqyg1"})("height:",20,"px;margin-right:",E.smallSpace,";width:",20,"px;display:inline-block;"),D=(0,x.Z)("span",{target:"e1v3iqyg0"})({name:"j8jm77",styles:"max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis"});function M(e){var t,n,r=e.integrationId,i=u.useContext(e.mfeIntegrationContext).resolveByCapability(P.N.integrationsProvider),s=(0,C.Z)(i,1)[0],o=(0,F.useQuery)(["CDIIntegrationScopeLabel",r],(0,Z.Z)(N().mark((function e(){var t;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=s&&s.enabled){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,s.resolver;case 4:return t=e.sent,e.abrupt("return",t.getIntegrationById(r));case 6:case"end":return e.stop()}}),e)}))));if(o.isLoading)return u.createElement(T.ve,{size:20,initialHeight:20});if(o.isError)return u.createElement(A.XG,{size:20});var a=null==o||null===(t=o.data)||void 0===t?void 0:t.sor,l=null==o||null===(n=o.data)||void 0===n?void 0:n.iconUrl;return u.createElement(u.Fragment,null,l&&u.createElement(R,{src:l}),a&&u.createElement(D,null,a))}var O=n(3265),_=(0,x.Z)("span",{target:"e1rj46c62"})("display:flex;align-items:center;font-size:",b.sizes.sml,";line-height:",E.mediumLargeSpace,";min-width:",E.mediumLargeSpace,";min-height:",E.mediumLargeSpace,";padding:",E.tinySpace,";border-radius:4px;box-sizing:border-box;background-color:",S.white,";border:1px solid ",S.black,";margin-right:",E.smallSpace,";"),z=(0,x.Z)("span",{target:"e1rj46c61"})("display:flex;align-items:center;margin-left:",E.smallSpace,";"),L=(0,x.Z)("span",{target:"e1rj46c60"})("margin-left:",E.smallSpace,";display:flex;");function W(e){var t=(0,v.useHistory)(),n=function(e){if(!e.searchFilterOption)return null;switch(e.searchFilterOption){case k.C.All:return null;case k.C.Applications:return(0,f.t)("App/Search:filter_applications");case k.C.Desktops:return(0,f.t)("App/Search:filter_desktops");case k.C.Files:return(0,f.t)("App/Search:filter_files");case k.C.Feed:return(0,f.t)("App/Search:feed");default:return u.createElement(M,{integrationId:e.searchFilterOption,mfeIntegrationContext:O._})}}(e);return n?u.createElement(_,null,u.createElement(z,null,n),u.createElement(L,null,u.createElement(m.z.IconOnly,{icon:w.x,title:null,size:14,onClick:function(){return t.push(y.z.getUrl({search:e.search,searchFilterOption:k.C.All}))}}))):null}var B=n(90932),H=n(14433),j=n(83987),U=n(54903),V=n(3409),K=n(89762),X=n(35401),Q=n(82786),q=n(50),G=n(99890),Y=p.StyleSheet.create({offlineMessage:{color:S.grey600,display:"flex",alignItems:"center",padding:"6px 6px 6px 20px"},offlineIcon:{marginRight:"10px"},path:(0,B.Z)((0,B.Z)({},G.ellipsis),{},{display:"block",fontSize:"12px",direction:"rtl",textAlign:"left",marginTop:"4px"}),truncatedFileName:{display:"flex",overflow:"hidden"},extension:{display:"inline-block",verticalAlign:"top",height:E.mediumLargeSpace,lineHeight:E.mediumLargeSpace,fontSize:"16px"}}),J=p.StyleSheet.create({resultsHeading:{backgroundColor:S.grey200,padding:"5px 0 5px 20px",color:S.grey700},nonResult:{backgroundColor:"white",padding:"10px 0 10px 20px",fontWeight:b.weights.light,color:S.grey700,listStyleType:"none"},listItem:{padding:"6px 10px 6px 20px",color:S.grey700,listStyleType:"none",cursor:"pointer"},listItemDisabled:{cursor:"not-allowed",backgroundColor:S.grey100,opacity:".6",padding:"6px 10px 6px 20px",color:S.grey700,listStyleType:"none"},listItemHighlight:{backgroundColor:S.grey100},itemTitle:{display:"flex"},itemName:(0,B.Z)({display:"inline-block",verticalAlign:"top",height:E.mediumLargeSpace,lineHeight:E.mediumLargeSpace,fontSize:"16px",marginLeft:"10px"},G.ellipsis)}),$=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),(0,c.Z)((0,o.Z)(e),"state",{isSearchingFiles:!1,files:[]}),(0,c.Z)((0,o.Z)(e),"currentTimeout",void 0),(0,c.Z)((0,o.Z)(e),"onInputChange",(function(t){var n=t.input;e.setState({files:[]}),navigator.onLine?(e.setState({isSearchingFiles:!0}),clearTimeout(e.currentTimeout),e.currentTimeout=window.setTimeout((function(){Promise.all([e.fileSearch(n),e.folderSearch(n)]).then((function(t){var r=(0,C.Z)(t,2),i=r[0],s=r[1];if(e.props.input===n){var o=e.getTopResults(i).concat(e.getTopResults(s)).map((function(t){return(0,B.Z)((0,B.Z)({},t),{},{onClick:function(){return e.openResult(t.ItemID)}})}));e.setState({files:o,isSearchingFiles:!1})}}))}),500)):clearTimeout(e.currentTimeout)})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this,t=this.state.files.filter((function(t){return e.isFile(t.ItemID)})),n=this.state.files.filter((function(t){return e.isFolder(t.ItemID)}));return u.createElement(u.Fragment,null,this.props.showHeader&&u.createElement("li",{className:(0,p.css)(J.resultsHeading)},(0,f.t)("Workspace:files")),!navigator.onLine&&u.createElement("li",{className:(0,p.css)(Y.offlineMessage)},u.createElement(H.sz,{size:24,className:(0,p.css)(Y.offlineIcon)}),(0,f.t)("Workspace:workspace_offline")),this.state.isSearchingFiles&&u.createElement("li",{className:(0,p.css)(J.nonResult)},(0,f.t)("javascript:search.searching")),!this.state.isSearchingFiles&&navigator.onLine&&!t.length&&u.createElement("li",{className:(0,p.css)(J.nonResult)},(0,f.t)("javascript:search.no_files_found")),n.map((function(t,n){return u.createElement("li",(0,r.Z)({},e.props.getItemProps({item:t,index:e.props.adjustIndex(n),className:(0,p.css)(J.listItem,e.props.highlightedIndex===e.props.adjustIndex(n)&&J.listItemHighlight)}),{key:t.ItemID}),u.createElement("div",{className:(0,p.css)(J.itemTitle)},u.createElement(j.R,{size:24}),u.createElement("div",{title:t.FileName,className:(0,p.css)(J.itemName)},t.FileName)),u.createElement("span",{className:(0,p.css)(Y.path)},t.ParentSemanticPath))})),t.map((function(t,i){var s=t.FileName||t.DisplayName;return u.createElement("li",(0,r.Z)({},e.props.getItemProps({item:t,index:e.props.adjustIndex(i+n.length),className:(0,p.css)(J.listItem,e.props.highlightedIndex===e.props.adjustIndex(i+n.length)&&J.listItemHighlight)}),{key:t.ItemID}),u.createElement("div",{className:(0,p.css)(J.itemTitle)},u.createElement(X.X,{resultItem:t}),e.truncatedItemName(s)),u.createElement("span",{className:(0,p.css)(Y.path)},t.ParentSemanticPath))})))}},{key:"componentDidMount",value:function(){this.onInputChange(this.props)}},{key:"componentDidUpdate",value:function(e){this.props.input!==e.input&&this.onInputChange(this.props)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.currentTimeout)}},{key:"fileSearch",value:function(e){var t={Query:{ItemTypes:["File","Link","Note"],SearchQuery:e}};return V.h.advancedSearch(t).top(50).execute()}},{key:"folderSearch",value:function(e){var t={Query:{ItemTypes:["Folder"],SearchQuery:e}};return V.h.advancedSearch(t).top(50).execute()}},{key:"truncatedItemName",value:function(e){var t=this.getExtension(e);return!!t?u.createElement("div",{title:e,className:(0,p.css)(Y.truncatedFileName)},u.createElement("span",{className:(0,p.css)(J.itemName)},"".concat(this.removeExtension(e,t),".")),u.createElement("span",{className:(0,p.css)(Y.extension)},t)):u.createElement("div",{title:e,className:(0,p.css)(J.itemName)},e)}},{key:"getExtension",value:function(e){var t=e.lastIndexOf(".");return-1===t?"":e.substr(t+1)}},{key:"removeExtension",value:function(e,t){var n=e.lastIndexOf(t);return-1===n?e:e.substring(0,n-1)}},{key:"isFolder",value:function(e){return"fo"===e.substring(0,2)}},{key:"isFile",value:function(e){return"fi"===e.substring(0,2)||e.startsWith("l")||e.startsWith("n")}},{key:"openResult",value:function(e){var t=this;this.isFile(e)?V.h.get(e).expand("VirusInfo").expand("FileLockInfo").execute().then((function(e){(0,Q.contentViewer)({item:e,account:t.props.account,user:t.props.user},t.props.showModal).catch((function(){}))})):this.props.history.push(K.m6.getUrl({id:e}))}},{key:"getTopResults",value:function(e){return e.Results.slice(0,5)}}]),n}(u.Component),ee=(0,q.B)((0,U.P)((0,v.withRouter)($))),te=n(20896),ne=n(71730),re=n(2828);function ie(e){return u.createElement(u.Fragment,null,e.header&&u.createElement("li",{className:(0,p.css)(J.resultsHeading)},e.header),!e.resources.length&&u.createElement("li",{className:(0,p.css)(J.nonResult)},e.notFound),e.resources.map((function(t,n){var i,s,o=!!(re.NZ.citrixCloudConnected||null!==(i=t.clmetadata)&&void 0!==i&&i.leasesupported);return u.createElement(te.u,{key:t.id,isDisabled:o,hoverTrigger:u.createElement("li",(0,r.Z)({key:t.id},e.getItemProps({item:t,index:n+e.baseIndex,className:(0,p.css)(re.NZ.citrixCloudConnected||null!==(s=t.clmetadata)&&void 0!==s&&s.leasesupported?J.listItem:(J.listItem,J.listItemDisabled),e.highlightedIndex===n+e.baseIndex&&J.listItemHighlight)})),u.createElement("div",{className:(0,p.css)(J.itemTitle)},e.isInProgress(t.id)?u.createElement(T.mT,{size:24}):u.createElement(ne.w,{resource:t,size:24}),u.createElement("div",{title:t.name,className:(0,p.css)(J.itemName)},t.name)))},t.isdesktop?(0,f.t)("Workspace:desktop_unavailable"):(0,f.t)("Workspace:app_unavailable"))})))}var se,oe=n(19594),ae=n(84781),le=n(6340),ce=n(97478),ue=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),(0,c.Z)((0,o.Z)(e),"launchResource",(function(t){(0,le.FV)({resource:t,resourceContext:e.props.resourceContext,workspaceConfiguration:e.props.workspaceConfiguration})})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props.resources.filter((function(e){return!e.isdesktop})),t=this.props.resources.filter((function(e){return e.isdesktop}));return u.createElement(u.Fragment,null,this.props.shouldSearchApps&&this.props.resourceContext.resources.some((function(e){return!e.isdesktop}))&&u.createElement(ie,{header:this.props.showHeader&&(0,f.t)("Workspace:applications"),notFound:(0,f.t)("javascript:search.no_applications_found"),resources:e,getItemProps:this.props.getItemProps,highlightedIndex:this.props.highlightedIndex,isInProgress:this.props.resourceContext.isInProgress,baseIndex:0}),this.props.shouldSearchDesktops&&this.props.resourceContext.resources.some((function(e){return e.isdesktop}))&&u.createElement(ie,{header:this.props.showHeader&&(0,f.t)("Workspace:desktops"),notFound:(0,f.t)("javascript:search.no_desktops_found"),resources:t,getItemProps:this.props.getItemProps,highlightedIndex:this.props.highlightedIndex,isInProgress:this.props.resourceContext.isInProgress,baseIndex:e.length}))}},{key:"componentDidMount",value:function(){this.filterResources(this.props.input)}},{key:"componentDidUpdate",value:function(e){this.props.input!==e.input&&this.filterResources(this.props.input)}},{key:"filterResources",value:function(e){var t=this,n=(0,oe.l)(this.props.resourceContext.resources,e).map((function(e){return(0,B.Z)((0,B.Z)({},e),{},{onClick:function(){return t.launchResource(e)}})}));this.props.setResources(n)}}]),n}(u.Component),pe=(0,ae.x)((0,ce.T2)(ue)),he=n(52659),de=n(32440),me=n(4853),fe=p.StyleSheet.create({whiteOverlay:{":not(foobar)":{backgroundColor:"rgba(255, 255, 255, 0.8)"}},modal:{":not(foobar)":{border:"none",height:"0px"}},container:(se={width:"600px",position:"fixed",left:"0",right:"0",top:"150px",margin:"auto"},(0,c.Z)(se,me.onMediumScreen,{width:"auto",top:0}),(0,c.Z)(se,"@media only screen and (max-height: 700px)",{top:0}),se),inputBox:{display:"flex",border:"1px solid ".concat(S.grey600),boxSizing:"border-box",backgroundColor:"#fff",height:"55px",alignItems:"center"},inputBoxOpen:{borderBottom:"1px solid ".concat(S.grey300)},searchIcon:{padding:"16px 11px 16px 16px"},textInput:{display:"inline-block",fontSize:"16px",flex:"1 1",margin:"0px",padding:"0 4px",boxSizing:"border-box",border:"none",outline:"none",height:"40px",lineHeight:"40px",verticalAlign:"middle","-webkit-appearance":"none","::-webkit-search-decoration":(0,c.Z)({},"-webkit-appearance","none"),"::-webkit-search-cancel-button":(0,c.Z)({},"-webkit-appearance","none"),"::-ms-clear":{display:"none"}},results:{position:"absolute",background:"#fff",zIndex:2,width:"100%",boxSizing:"border-box"},resultsOpen:{border:"1px solid ".concat(S.grey600),borderTop:"none"},ul:{padding:0,margin:0,maxHeight:"400px",overflow:"auto"},seeMoreButton:{width:"100%"},seeMore:{borderTop:"1px solid ".concat(S.grey300),textAlign:"center",padding:"".concat(E.smallSpace," 0"),lineHeight:E.mediumLargeSpace,fontWeight:b.weights.medium,color:S.grey900,":hover":{backgroundColor:"#E8F0F9",border:"1px solid ".concat(S.blue800),color:S.blue800,boxShadow:"0px -2px 2px 0 rgba(0, 0, 0, 0.1)"}},inNotifications:{fontWeight:b.weights.semiBold},notifications:{padding:"22px 16px"}}),ge=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,c.Z)((0,o.Z)(r),"onInputKeyDown",(function(e,t){"Enter"===e.key&&null===t&&r.seeMore(r.getSearchFilterOption())})),(0,c.Z)((0,o.Z)(r),"search",(function(e){r.setState({input:ve(e)||""})})),(0,c.Z)((0,o.Z)(r),"seeMore",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.C.All;if(r.state.input){var t=encodeURIComponent(ve(r.state.input));r.props.onCloseSuccess(y.z.getUrl({search:t,searchFilterOption:e}))}})),(0,c.Z)((0,o.Z)(r),"onSelect",(function(e){null==e||e.onClick()})),(0,c.Z)((0,o.Z)(r),"adjustFilesIndex",(function(e){return r.state.resources.length+e})),r.state={resources:[],input:r.getSearchTerm()},r}return(0,s.Z)(n,[{key:"componentDidUpdate",value:function(e){var t,n;(null===(t=this.props.location)||void 0===t?void 0:t.pathname)===(null===(n=e.location)||void 0===n?void 0:n.pathname)||this.isSearchRoute()||this.props.onCloseSuccess(null)}},{key:"isSearchRoute",value:function(){var e;return!!(0,v.matchPath)(null===(e=this.props.location)||void 0===e?void 0:e.pathname,y.z.paths[0])}},{key:"render",value:function(){var e=this,t=function(t){return e.getSearchFilterOption()===t},n=t(k.C.All)||!this.getSearchFilterOption(),i=function(e){return n||t(e)},s=this.props.supportsFiles&&i(k.C.Files),o=this.supportsApps()&&i(k.C.Applications),a=this.supportsDesktops()&&i(k.C.Desktops);return u.createElement(h.u_,(0,r.Z)({},this.props,{className:(0,p.css)(fe.modal),autoFocus:!1,overlayClassName:(0,p.css)(fe.whiteOverlay),isRouted:!0}),u.createElement(g.ZP,{onSelect:this.onSelect,onInputValueChange:this.search,inputValue:this.state.input,itemToString:function(t){return e.state.input},defaultIsOpen:!0},(function(t){var r=t.getInputProps,i=t.getItemProps,l=t.getMenuProps,c=t.getLabelProps,h=t.highlightedIndex,g=t.isOpen&&e.state.input.length>2;return u.createElement("div",{className:(0,p.css)(fe.container)},u.createElement("div",{className:(0,p.css)(fe.inputBox,g&&fe.inputBoxOpen)},u.createElement("label",c({}),u.createElement(d.W,{size:20,className:(0,p.css)(fe.searchIcon)})),!n&&u.createElement(W,{search:e.getSearchTerm(),searchFilterOption:e.getSearchFilterOption()}),u.createElement("input",r({className:(0,p.css)(fe.textInput),autoFocus:!0,onKeyDown:function(t){return e.onInputKeyDown(t,h)}}))),u.createElement("div",{className:(0,p.css)(fe.results,g&&fe.resultsOpen)},u.createElement("ul",l({className:(0,p.css)(fe.ul)}),g&&(o||a)&&u.createElement(pe,{getItemProps:i,highlightedIndex:h,showHeader:e.showHeaders(),input:e.state.input,resources:e.state.resources,setResources:function(t){return e.setState({resources:t})},shouldSearchApps:o,shouldSearchDesktops:a}),g&&s&&u.createElement(ee,{getItemProps:i,highlightedIndex:h,showHeader:e.showHeaders(),input:e.state.input,adjustIndex:e.adjustFilesIndex})),g&&u.createElement(m.z.Wrapper,{onClick:function(){return e.seeMore(e.getSearchFilterOption())},className:(0,p.css)(fe.seeMoreButton)},u.createElement("div",{className:(0,p.css)(fe.seeMore)},(0,f.t)("javascript:search.see_more")))))})))}},{key:"supportsApps",value:function(){return this.props.resourceContext.resources.some((function(e){return!e.isdesktop}))}},{key:"supportsDesktops",value:function(){return this.props.resourceContext.resources.some((function(e){return e.isdesktop}))}},{key:"showHeaders",value:function(){return[this.supportsApps(),this.supportsDesktops(),this.props.supportsFiles].filter((function(e){return e})).length>1}},{key:"getSearchRouteParams",value:function(){var e,t=(0,v.matchPath)(null===(e=this.props.location)||void 0===e?void 0:e.pathname,y.z.paths[0]);return(null==t?void 0:t.params)||{}}},{key:"getSearchFilterOption",value:function(){var e;return null===(e=this.getSearchRouteParams())||void 0===e?void 0:e.searchFilterOption}},{key:"getSearchTerm",value:function(){var e=this.getSearchRouteParams();return ve(null!=e&&e.search?decodeURIComponent(null==e?void 0:e.search):"")}}]),n}(u.Component);function ve(e){var t;return null!=e&&null!==(t=e.replace)&&void 0!==t&&t.call?e.replace(/%/g,""):e}var ye=(0,v.withRouter)((0,de.G7)((0,he.Cc)((0,ce.T2)((0,q.B)(ge)))))},85436:function(e,t,n){"use strict";n.d(t,{L:function(){return y}});var r=n(25180),i=n(58640),s=n(55117),o=n(38638),a=n(54559),l=n(73450),c=n(27378),u=n(9604),p=n(50228),h=n(19472),d=n(68121),m=n(59245),f=n(50),g=n(36897),v=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,s.Z)(e),"filterTreeNodes",(function(t){return t.filter((function(t){return!t.Id.startsWith("c-")&&(!!(e.props.account.Preferences.EnableHomeFolders&&e.props.user.Roles.includes(d.i44.Employee)||!t.Id.startsWith("foh"))&&!t.Bundle)}))})),(0,l.Z)((0,s.Z)(e),"isNodeDisabled",(function(t){var n={enabled:"favorites"!==t.Id};return n.enabled&&e.props.isNodeDisabled&&(n=e.props.isNodeDisabled(t)),n})),(0,l.Z)((0,s.Z)(e),"selectFolders",(function(t){e.props.onFolderSelected(t[0])})),e}return(0,i.Z)(n,[{key:"render",value:function(){var e=[];return this.props.selectedFolderId&&e.push(this.props.selectedFolderId),c.createElement("div",{className:(0,u.css)(g.W.treeview),style:{height:this.props.height||"250px"}},c.createElement(p.k6,{showFileBox:this.props.showFileBox&&this.props.user.Roles.includes(d.i44.CanUseFileBox),filterTreeNodes:this.filterTreeNodes,canCreateFolder:this.props.canCreateFolder,createFolder:this.props.createFolder,onCreateFolderFinished:this.props.onCreateFolderFinished,onError:h.cB,isNodeDisabled:this.isNodeDisabled,currentParentId:this.props.parentId||this.props.account.Id,currentLocationString:(0,m.t)("javascript:tree_view.current_location"),selectedItemIds:e,onItemsSelected:this.selectFolders}))}}]),n}(c.Component),y=(0,f.B)(v)},36897:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(9604),i=r.StyleSheet.create({treeview:{overflow:"auto"}})},14385:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var r=n(69322);function i(e){var t=(0,r.$$)();return null!=e&&e.Id&&t?"https://sf-assets.".concat(t,"/avatar/").concat(e.Id):null}},15682:function(e,t,n){"use strict";n.d(t,{i:function(){return l},J:function(){return c}});var r=n(73450),i=n(15313),s=n(90932),o=n(87732),a="user-preferences_";function l(e,t){(0,o._m)(u(e),function(e,t){var n=c(e);return(0,s.Z)((0,s.Z)({},n),t)}(e,t))}function c(e){return(0,o.fp)(u(e))||{}}function u(e){return"".concat(a).concat(e)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var o=n[0].toLowerCase()+n.slice(1),a=e[n];return a&&"object"===(0,i.Z)(a)&&(a=p(a)),(0,s.Z)((0,s.Z)({},t),{},(0,r.Z)({},o,a))}),{})}"requestIdleCallback"in window?window.requestIdleCallback((function(){var e=(0,o.kg)(),t=new RegExp("".concat(a,"(.*)"));Object.keys(e).forEach((function(e){var n=e.match(t);if(n){var r=n[1];(0,o._m)(u(r),p((0,o.fp)(e)||{}))}}))})):setTimeout(l)},73741:function(e,t,n){var r={"./de":8973,"./de-at":63214,"./de-at.js":63214,"./de-ch":74728,"./de-ch.js":74728,"./de.js":8973,"./es":32430,"./es-do":16310,"./es-do.js":16310,"./es-mx":27038,"./es-mx.js":27038,"./es-us":73099,"./es-us.js":73099,"./es.js":32430,"./fr":74179,"./fr-ca":14306,"./fr-ca.js":14306,"./fr-ch":73791,"./fr-ch.js":73791,"./fr.js":74179,"./gom-deva":33161,"./gom-deva.js":33161,"./it":29757,"./it-ch":4759,"./it-ch.js":4759,"./it.js":29757,"./ja":44164,"./ja.js":44164,"./nl":33114,"./nl-be":68479,"./nl-be.js":68479,"./nl.js":33114,"./pt-br":55077,"./pt-br.js":55077,"./zh-cn":61002,"./zh-cn.js":61002};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=73741}}]);
//# sourceMappingURL=AppShell.a5ef08195723deccb8a5.js.map