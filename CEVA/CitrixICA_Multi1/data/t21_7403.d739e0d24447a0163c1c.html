(self.webpackChunk_citrite_workspace_ui=self.webpackChunk_citrite_workspace_ui||[]).push([[7403],{31443:function(e,t,r){"use strict";r.d(t,{$:function(){return o},L:function(){return l}});var s=r(27378),n=r(59245),a=r(23875),i=r(89762);function o(e,t){return function(r){return s.createElement("span",null,t?(0,n.t)("App/Files:move_dialog.item_success1of2",{count:e.length,fileName:e[0].Name}):(0,n.t)("App/Files:move_dialog.item_info1of2",{count:e.length,fileName:e[0].Name}),s.createElement(a.r,{to:i.m6.getUrl({id:r.Id})},r.Name),(0,n.t)("App/Files:move_dialog.item_message2of2",{count:e.length}))}}function l(e,t){return function(r){return s.createElement("span",null,t?(0,n.t)("App/Files:copy_dialog.item_success1of2",{count:e.length,fileName:e[0].Name}):(0,n.t)("App/Files:copy_dialog.item_info1of2",{count:e.length,fileName:e[0].Name}),s.createElement(a.r,{to:i.m6.getUrl({id:r.Id})},r.Name),(0,n.t)("App/Files:copy_dialog.item_message2of2",{count:e.length}))}}},26922:function(e,t,r){"use strict";r.d(t,{C:function(){return Y}});var s,n=r(41476),a=r(90932),i=r(25180),o=r(58640),l=r(55117),c=r(38638),p=r(54559),u=r(73450),h=r(57135),d=r.n(h),m=r(27378),f=r(9604),v=r(71959),S=r(7007),g=r(23404),y=r(13833),k=r(72920),C=r(78944),Z=r(1406),E=r(20883),A=r(88055),I=r(95806),D=r(19472),w=r(54903),x=r(68121),b=r(3409),N=r(59245),F=r(28203),O=r(32780),_=r(73409),T=r(23875),R=r(69635),P=r(56713),z=r(12648),W=r(31443),L=r(71315),Q=r(89762),M=r(35401),B=r(2828),q=r(50),U=r(97478),H=r(6232),j=r(58742),G=f.StyleSheet.create({icon:{cursor:"pointer"}}).icon,K=function(e){(0,c.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n)),(0,u.Z)((0,l.Z)(e),"state",{}),(0,u.Z)((0,l.Z)(e),"onClick",(function(t){e.setState({isPending:!0});var r=e.props,s=r.fileSearchResult,n=r.updateFile;(0,F.m)(e.props.user,s.item).then((function(t){n(s.searchResult.ItemID,{Favorite:t[0]}),e.setState({isPending:!1})})),t.stopPropagation()})),e}return(0,o.Z)(r,[{key:"render",value:function(){var e=this.props.fileSearchResult;if(this.state.isPending)return m.createElement(Z.mT,{size:16});var t=H.V;return e.item&&e.item.Favorite&&(t=j.o),m.createElement(t,{className:(0,f.css)(G),onClick:this.onClick,size:16})}}]),r}(m.Component),V=r(47455);!function(e){e[e.file=0]="file",e[e.folder=1]="folder",e[e.link=2]="link",e[e.note=3]="note",e[e.symboliclink=4]="symboliclink"}(s||(s={}));var X=function(e){(0,c.Z)(h,e);var t,r=(0,p.Z)(h);function h(){var e;(0,i.Z)(this,h);for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return e=r.call.apply(r,[this].concat(s)),(0,u.Z)((0,l.Z)(e),"fullItem",void 0),(0,u.Z)((0,l.Z)(e),"state",{isDownloadingOrNavigating:!1,hasShareAccessLevelCapability:!1}),(0,u.Z)((0,l.Z)(e),"onDefaultClick",(function(t){e.launchFilesNativeApp()||(t.stopPropagation(),e.previewItem())})),(0,u.Z)((0,l.Z)(e),"updateItem",(function(t,r){e.fullItem=(0,a.Z)((0,a.Z)({},e.fullItem),r)})),(0,u.Z)((0,l.Z)(e),"launchFilesNativeApp",(function(){if(e.props.isNativeMobileClient){var t={command:"viewItem",itemUrl:e.props.result.searchResult.Url};return B.NZ.launchShareFile(t)}})),(0,u.Z)((0,l.Z)(e),"previewItem",(function(){e.setState({isDownloadingOrNavigating:!0}),e.getItem().then((function(t){(0,L.r)({item:t,account:e.props.account,user:e.props.user,updateItem:e.updateItem,resourceContext:e.props.resourceContext},e.props.history,e.props.showModal),e.setState({isDownloadingOrNavigating:!1})})).catch((function(){e.setState({isDownloadingOrNavigating:!1})}))})),(0,u.Z)((0,l.Z)(e),"favoriteToggle",(function(){var t=e.props,r=t.result,s=t.updateFile;(0,F.m)(e.props.user,r.item).then((function(e){s(r.searchResult.ItemID,{Favorite:e[0]})}))})),e}return(0,o.Z)(h,[{key:"componentDidMount",value:(t=(0,n.Z)(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.kx)([this.props.result.searchResult]).then((function(e){t.setState({hasShareAccessLevelCapability:e})}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props.result.searchResult,t=e.FileName||e.DisplayName,r="/"===e.ParentSemanticPath.charAt(0)?e.ParentSemanticPath.substr(1):e.ParentSemanticPath;return m.createElement(k.TR,null,m.createElement(C.TD,null,m.createElement(K,{fileSearchResult:this.props.result,updateFile:this.props.updateFile,user:this.props.user})),m.createElement(C.TD,null,this.state.isDownloadingOrNavigating?m.createElement(Z.mT,null):m.createElement(M.X,{resultItem:e})),m.createElement(C.TD,{label:(0,N.t)("App/Search:title")},m.createElement(E.z.Wrapper,{onClick:this.onDefaultClick,className:(0,f.css)(V.W.link),title:t},t)),m.createElement(C.TD,{label:(0,N.t)("App/Search:found_in")},m.createElement("div",{className:(0,f.css)(V.W.foundInColumn)},m.createElement(T.r,{to:Q.m6.getUrl({id:e.ParentID})},r))),m.createElement(C.TD,{label:(0,N.t)("App/Search:size")},(0,S.i)(e.Size,!0)),m.createElement(C.TD,{label:(0,N.t)("App/Search:creator")},e.CreatorName),m.createElement(C.TD,{label:(0,N.t)("App/Search:upload_date")},(0,O.Mv)(e.CreationDate,this.props.user.Preferences.DateFormat)),!this.props.isNativeMobileClient&&m.createElement(C.TD,{showEllipsis:!1},m.createElement("div",{className:(0,f.css)(V.W.contextualActions)},m.createElement(A.L,{options:this.getDropdownOptions(),placement:"bottom-end",zIndex:2},(function(e){return m.createElement(E.z.Wrapper,e,m.createElement(I.h,{size:22}))})))))}},{key:"getItemType",value:function(){return"file"===this.props.result.searchResult.ItemType?s.file:"link"===this.props.result.searchResult.ItemType?s.link:"note"===this.props.result.searchResult.ItemType?s.note:"symboliclink"===this.props.result.searchResult.ItemType?s.symboliclink:s.folder}},{key:"getDropdownOptions",value:function(){return[this.downloadOption(),this.shareEmailOption(),this.shareLinkOption(),this.deleteArchiveOption(),this.moveOption(),this.copyOption(),this.favoriteOption()].filter((function(e){return!!e}))}},{key:"downloadOption",value:function(){var e=this;if(this.props.result.searchResult.CanDownload)return{children:(0,N.t)("App/Search:download"),onClick:function(){return e.download()}}}},{key:"favoriteOption",value:function(){var e=this;if(this.props.result.item)return{children:this.props.result.item.Favorite?(0,N.t)("App/Search:remove_favorite"):(0,N.t)("App/Search:add_favorite"),onClick:function(){return e.favoriteToggle()}}}},{key:"shareEmailOption",value:function(){var e=this;if(this.canSend())return{children:(0,N.t)("App/Search:email_with_citrix"),onClick:function(){return e.emailWithShareFile()}}}},{key:"shareLinkOption",value:function(){var e=this;if(this.canSend()&&this.props.account.Preferences.SharePreferences.SendShareLinkShareAccessLevels!==x.cO3.None&&(!(0,v.oC)(this.props.account.Preferences.SharePreferences.SendShareLinkShareAccessLevels)||this.state.hasShareAccessLevelCapability))return{children:(0,N.t)("App/Search:get_a_link"),onClick:function(){return e.copyLink()}}}},{key:"deleteArchiveOption",value:function(){var e=this;if(this.props.result.searchResult.CanDelete)return{children:this.props.account.Preferences.IsArchiveAccount?(0,N.t)("App/Search:archive"):(0,N.t)("App/Search:delete"),onClick:function(){return e.delete()}}}},{key:"moveOption",value:function(){var e=this;if(this.props.result.searchResult.CanDelete)return{children:(0,N.t)("App/Search:move"),onClick:function(){return e.move()}}}},{key:"copyOption",value:function(){var e=this;if(this.props.result.searchResult.CanDelete)return{children:(0,N.t)("App/Search:copy"),onClick:function(){return e.copy()}}}},{key:"canSend",value:function(){return(!this.props.account.Preferences.IsArchiveAccount||this.getItemType()!==s.folder)&&(this.props.user.Roles.includes(x.i44.Employee)||this.props.account.Preferences.EnableClientSend)&&this.props.result.searchResult.CanDownload}},{key:"download",value:function(){var e=this;this.setState({isDownloadingOrNavigating:!0}),this.getItem().then((function(t){b.h.download(t.url,!1).execute().then((function(e){return location.assign(e.DownloadUrl)})).catch((function(){})).then((function(){return e.setState({isDownloadingOrNavigating:!1})}))}))}},{key:"emailWithShareFile",value:function(){var e=this;this.getItem().then((function(t){(0,P.h)({account:e.props.account,items:[t],user:e.props.user,showModal:e.props.showModal})}))}},{key:"copyLink",value:function(){var e=this;this.getItem().then((function(t){(0,z.T)({account:e.props.account,items:[t],user:e.props.user,showModal:e.props.showModal})}))}},{key:"delete",value:function(){var e=this;this.getItem().then((function(t){(0,_.X)([t],e.props.account.Preferences.IsArchiveAccount).then((function(){e.props.removeResult(e.props.result)}))}))}},{key:"move",value:function(){var e=this;this.getItem().then((function(t){(0,g.M)({user:e.props.user,accountPreferences:e.props.account.Preferences,selectedItems:[t],parentFolder:t.Parent,getInfoMessage:(0,W.$)([t],!1),getSuccessMessage:(0,W.$)([t],!0),showModal:e.props.showModal,onCloseSuccess:function(){e.props.removeResult(e.props.result)}})}))}},{key:"copy",value:function(){var e=this;this.getItem().then((function(t){(0,y.f)({accountPreferences:e.props.account.Preferences,user:e.props.user,selectedItems:[t],parentFolder:t.Parent,getInfoMessage:(0,W.L)([t],!1),getSuccessMessage:(0,W.L)([t],!0),showModal:e.props.showModal})}))}},{key:"getItem",value:function(){var e=this;return this.fullItem?Promise.resolve(this.fullItem):b.h.get(this.props.result.searchResult.ItemID).execute().then((function(t){return e.fullItem=t,t})).catch((function(){return(0,D.cB)((0,N.t)("App/Search:get_item_error")),Promise.reject(new Error("[Search] Failed to get item"))}))}}]),h}(m.Component),Y=(0,w.P)((0,q.B)((0,U.T2)((0,R.withRouter)(X))))},47455:function(e,t,r){"use strict";r.d(t,{W:function(){return a}});var s=r(9604),n=r(86985),a=s.StyleSheet.create({link:{cursor:"pointer"},contextualActions:{marginTop:"-5px",":not(foobar) span > div:first-child":{border:"1px solid transparent"},":hover":{":not(foobar) span > div:first-child":{backgroundColor:"white",borderColor:n.grey300,color:n.blue800}}},foundInColumn:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",direction:"rtl","text-align":"left"}})},96627:function(e,t,r){"use strict";r.d(t,{j:function(){return Re},C:function(){return _e}});var s,n,a=r(64897),i=r(19394),o=r(90932),l=r(25180),c=r(58640),p=r(55117),u=r(38638),h=r(54559),d=r(73450),m=r(27378),f=r(19472),v=r(3409),S=r(22315),g=r(59245),y=r(19594),k=r(9604),C=r(64195),Z=r(65547),E=r(97715),A=r(85686),I=r(20883),D=r(67247),w=r(30301),x=r(75167),b=r(76592),N=r(54903),F=r(61320),O=r.n(F),_=r(36907),T=r(54510),R=r(4853),P=r(75219),z=r(20913),W=k.StyleSheet.create({criteriaContainer:(0,d.Z)({padding:"20px 0 30px 40px"},R.onMobile,{padding:"20px 10px"}),searchTermContainer:(0,d.Z)({display:"flex"},R.onSmallScreen,{flexDirection:"column"}),searchTerm:(0,d.Z)({flex:"1 auto",maxWidth:"600px"},R.onSmallScreen,{width:"100%"}),searchFilterBlock:(0,d.Z)({display:"flex"},R.onSmallScreen,{marginTop:"10px"}),searchFilter:(0,d.Z)({margin:"0 10px",width:"130px"},R.onSmallScreen,{width:"100%",marginLeft:"0"}),searchButton:(s={},(0,d.Z)(s,R.onDesktop,{marginRight:"10px"}),(0,d.Z)(s,R.onSmallScreen,{width:"100%"}),s),filtersContainer:{marginTop:"30px"},filterResultsBy:{fontSize:"16px",fontWeight:P.weights.medium,marginBottom:"20px"},searchItemTitlesOnly:{marginLeft:"-4px"},filters:{marginTop:"20px",display:"flex",alignItems:"flex-start",flexWrap:"wrap"},criteriaButtonsContainer:{height:"60px",display:"flex",flexDirection:"column",justifyContent:"flex-end"},criteriaButtons:{display:"flex",alignItems:"center"},customDate:{width:"120px",marginTop:"10px"},folderLocation:{width:"215px"},criteriaItem:{marginRight:z.smallSpace}});function L(e){var t=function(e){switch(e){case n.ThisMonth:return{start:O()().startOf("month"),end:O()().endOf("month")};case n.ThisWeek:return{start:O()().startOf("week"),end:O()().endOf("week")};case n.Today:return{start:O()().startOf("day"),end:O()().endOf("day")};case n.Yesterday:return{start:O()().add(-1,"day").startOf("day"),end:O()().add(-1,"day").endOf("day")};default:return{start:void 0,end:void 0}}}(e);return{start:t.start&&t.start.toISOString(),end:t.end&&t.end.toISOString()}}!function(e){e[e.All=0]="All",e[e.Today=1]="Today",e[e.Yesterday=2]="Yesterday",e[e.ThisWeek=3]="ThisWeek",e[e.ThisMonth=4]="ThisMonth",e[e.Custom=5]="Custom"}(n||(n={}));var Q={All:"All",File:"File",Folder:"Folder",Link:"Link",Note:"Note"},M=function(e){(0,u.Z)(r,e);var t=(0,h.Z)(r);function r(){var e,s,a;(0,l.Z)(this,r);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return a=t.call.apply(t,[this].concat(o)),(0,d.Z)((0,p.Z)(a),"state",{selectedDateRange:n.All,selectedParentName:(0,g.t)("App/Search:all_folders")}),(0,d.Z)((0,p.Z)(a),"localizedItemTypes",(e={},(0,d.Z)(e,Q.All,(0,g.t)("App/Search:all")),(0,d.Z)(e,Q.File,(0,g.t)("App/Search:files")),(0,d.Z)(e,Q.Folder,(0,g.t)("App/Search:folders")),(0,d.Z)(e,Q.Link,(0,g.t)("App/Search:links")),(0,d.Z)(e,Q.Note,(0,g.t)("App/Search:notes")),e)),(0,d.Z)((0,p.Z)(a),"localizedDateRanges",(s={},(0,d.Z)(s,n.All,(0,g.t)("App/Search:all")),(0,d.Z)(s,n.Today,(0,g.t)("App/Search:today")),(0,d.Z)(s,n.Yesterday,(0,g.t)("App/Search:yesterday")),(0,d.Z)(s,n.ThisWeek,(0,g.t)("App/Search:this_week")),(0,d.Z)(s,n.ThisMonth,(0,g.t)("App/Search:this_month")),(0,d.Z)(s,n.Custom,(0,g.t)("App/Search:custom")),s)),(0,d.Z)((0,p.Z)(a),"changeSearchTerm",(function(e){a.props.updateQuery({SearchQuery:e})})),(0,d.Z)((0,p.Z)(a),"changeSearchItemNameOnly",(function(e){a.props.updateQuery({ItemNameOnly:e})})),(0,d.Z)((0,p.Z)(a),"changeStartDate",(function(e){a.props.updateQuery({CreateStartDate:O()(e).toJSON()})})),(0,d.Z)((0,p.Z)(a),"changeEndDate",(function(e){a.props.updateQuery({CreateEndDate:O()(e).toJSON()})})),(0,d.Z)((0,p.Z)(a),"changeItemType",(function(e){e===Q.All?a.props.updateQuery({ItemTypes:null}):a.props.updateQuery({ItemTypes:[e]})})),(0,d.Z)((0,p.Z)(a),"changeDateRange",(function(e){var t=parseInt(e,10);if(a.setState({selectedDateRange:t}),t===n.Custom){var r=a.props.query,s=r.CreateStartDate,i=void 0===s?O()().subtract(1,"day").startOf("day").toJSON():s,o=r.CreateEndDate,l=void 0===o?(new Date).toJSON():o;a.props.updateQuery({CreateStartDate:i,CreateEndDate:l})}else{var c=L(t),p=c.start,u=c.end;a.props.updateQuery({CreateStartDate:p,CreateEndDate:u})}})),(0,d.Z)((0,p.Z)(a),"changeParentFolder",(function(){a.props.showModal(m.createElement(_.p,{onCloseSuccess:function(e){a.setState({selectedParentName:e.Name}),a.props.updateQuery({ParentID:[e.Id]})}}))})),(0,d.Z)((0,p.Z)(a),"changeCreatedBy",(function(e){a.setState({selectedUser:e}),a.props.updateQuery({CreatorID:e?[e.Id]:[]})})),(0,d.Z)((0,p.Z)(a),"reset",(function(){a.setState({selectedDateRange:n.All,selectedParentName:(0,g.t)("App/Search:all_folders"),selectedUser:null}),a.props.resetQuery()})),(0,d.Z)((0,p.Z)(a),"submit",(function(){a.props.executeSearch()})),a}return(0,c.Z)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.query,s=t.searching,a=this.filterOptions();return m.createElement("div",{className:(0,k.css)(W.criteriaContainer)},m.createElement(Z.l,{onSubmit:this.submit},m.createElement("div",{className:(0,k.css)(W.searchTermContainer)},m.createElement("div",{className:(0,k.css)(W.searchTerm)},m.createElement(E.o,{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",autoFocus:!0,spellCheck:!1,value:r.SearchQuery,onChange:this.changeSearchTerm,"aria-label":(0,g.t)("App/Search:search_terms")})),m.createElement("div",{className:(0,k.css)(W.searchFilterBlock)},a.length>1&&m.createElement("div",{className:(0,k.css)(W.searchFilter)},m.createElement(A.Ph,{width:"100%",value:this.props.filterOption,onChange:this.props.updateFilterOption,options:a,"aria-label":(0,g.t)("App/Search:item_type")})),m.createElement("div",{className:(0,k.css)(W.searchButton)},m.createElement(I.z.Primary,{style:{width:"100%"},type:"submit",active:s,disabled:!this.isValidQuery()||s},(0,g.t)("App/Search:search")))))),this.showFilesCriteria()&&m.createElement("div",{className:(0,k.css)(W.filtersContainer)},m.createElement("div",{className:(0,k.css)(W.filterResultsBy)},(0,g.t)("App/Search:filter_results_by")),m.createElement("div",{className:(0,k.css)(W.searchItemTitlesOnly)},m.createElement(D.X,{checked:r.ItemNameOnly,onChange:this.changeSearchItemNameOnly},(0,g.t)("App/Search:search_item_titles_only"))),m.createElement("div",{className:(0,k.css)(W.filters)},m.createElement("div",{className:(0,k.css)(W.criteriaItem)},m.createElement(A.mg,{label:(0,g.t)("App/Search:content_type"),width:"120px",value:null==r.ItemTypes?Q[Q.All]:r.ItemTypes[0],onChange:this.changeItemType,options:Object.keys(this.localizedItemTypes).map((function(t){return{label:e.localizedItemTypes[t],value:t}}))})),m.createElement("div",{className:(0,k.css)(W.criteriaItem)},m.createElement(C.v,{label:(0,g.t)("App/Search:created_by"),onSelect:this.changeCreatedBy,placeholder:(0,g.t)("App/Search:email"),selectedContact:this.state.selectedUser})),m.createElement("div",{className:(0,k.css)(W.criteriaItem)},m.createElement(A.mg,{label:(0,g.t)("App/Search:upload_date"),width:"120px",value:this.state.selectedDateRange.toString(),onChange:this.changeDateRange,options:Object.keys(this.localizedDateRanges).map((function(t){return{label:e.localizedDateRanges[t],value:t}}))}),this.state.selectedDateRange===n.Custom&&m.createElement(m.Fragment,null,m.createElement("div",{className:(0,k.css)(W.customDate)},m.createElement(w.__,{htmlFor:"search-start-date"},(0,g.t)("App/Search:start_date")),m.createElement("br",null),m.createElement(x.y,{id:"search-start-date",maxWidth:"100%",startDate:O()(r.CreateStartDate).toDate(),endDate:O()(r.CreateEndDate).toDate(),onChange:this.changeStartDate})),m.createElement("div",{className:(0,k.css)(W.customDate)},m.createElement(w.__,{htmlFor:"search-end-date"},(0,g.t)("App/Search:end_date")),m.createElement("br",null),m.createElement(x.U,{id:"search-end-date",maxWidth:"100%",startDate:O()(r.CreateStartDate).toDate(),endDate:O()(r.CreateEndDate).toDate(),maxDate:O()().toDate(),onChange:this.changeEndDate})))),m.createElement("div",{className:(0,k.css)(W.criteriaItem)},m.createElement(b.gN,{label:(0,g.t)("App/Search:folder_location"),htmlFor:"folder-picker"},m.createElement(I.z.Wrapper,{onClick:this.changeParentFolder,title:this.state.selectedParentName,className:(0,k.css)(W.folderLocation),"aria-label":(0,g.t)("App/Search:folder_picker")},m.createElement(E.o,{id:"folder-picker",readOnly:!0,value:this.state.selectedParentName})))),m.createElement("div",{className:(0,k.css)(W.criteriaButtonsContainer)},m.createElement("div",{className:(0,k.css)(W.criteriaButtons)},m.createElement(I.z.Secondary,{disabled:!this.isValidQuery()||s,onClick:this.submit},(0,g.t)("App/Search:apply")),m.createElement(I.z.TextSecondary,{onClick:this.reset},(0,g.t)("App/Search:reset")))))))}},{key:"filterOptions",value:function(){var e=[];return this.props.supportsApps&&e.push({value:T.C.Applications,label:(0,g.t)("App/Search:filter_applications")}),this.props.supportsDesktops&&e.push({value:T.C.Desktops,label:(0,g.t)("App/Search:filter_desktops")}),this.props.supportsFiles&&e.push({value:T.C.Files,label:(0,g.t)("App/Search:filter_files")}),e.length>1?[{value:T.C.All,label:(0,g.t)("App/Search:filter_all")}].concat(e):e}},{key:"componentDidMount",value:function(){var e=this,t=this.props.query.ParentID[0];t&&v.h.get(t).select("Name").execute().then((function(t){e.setState({selectedParentName:t.Name})}))}},{key:"showFilesCriteria",value:function(){return this.props.filterOption===T.C.Files}},{key:"isValidQuery",value:function(){return!!this.props.query.SearchQuery}}]),r}(m.Component),B=(0,N.P)(M),q=r(85843),U=r(37217),H=r(14433),j=r(86985),G=r(99890),K=24,V=k.StyleSheet.create({row:{alignItems:"center",cursor:"pointer",display:"flex",height:"44px",paddingLeft:"5px",width:"100%",boxSizing:"border-box",":hover":{backgroundColor:j.grey200,textDecoration:"underline"}},iconContainer:{minWidth:"24px",minHeight:"24px",marginRight:"12px"},icon:{height:"24px",width:"24px"},offlineMessage:{color:j.grey600},outerColumn:{display:"flex",minWidth:"44px",flexShrink:0},innerColumn:{display:"flex",flexGrow:1,alignItems:"center",minWidth:0},title:(0,o.Z)({},G.ellipsis),moreActions:{padding:"0 20px",marginRight:"20px"}});function X(){return m.createElement("div",{className:(0,k.css)(V.row)},m.createElement(H.sz,{size:24,className:(0,k.css)(V.icon)}),m.createElement("span",{className:(0,k.css)(V.offlineMessage)},(0,g.t)("Workspace:workspace_offline")))}var Y=r(56487),J=r(56931),$=r(34850),ee=r(99134),te=r(58638),re=r(64357),se=r(67195),ne=r(64647),ae=r(26922),ie=k.StyleSheet.create({resultsTableContainer:(0,d.Z)({backgroundColor:"white"},R.onMobile,{padding:"0 10px"})}),oe=re.sortDirections,le=function(e){(0,u.Z)(r,e);var t=(0,h.Z)(r);function r(){var e;(0,l.Z)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n)),(0,d.Z)((0,p.Z)(e),"state",{sortParams:{direction:oe.ASCENDING,key:"DisplayName"}}),(0,d.Z)((0,p.Z)(e),"sort",(function(t){e.setState((function(e){return{sortParams:(0,se.np)(e.sortParams,t)}}))})),e}return(0,c.Z)(r,[{key:"render",value:function(){var e=this;return this.props.results.length?m.createElement("div",{className:(0,k.css)(ie.resultsTableContainer)},m.createElement(Y.i,null,m.createElement(J.E,null,m.createElement($.TH,{width:"25px"}),m.createElement($.TH,{width:"36px"}),m.createElement(ee.W,{sortKey:"DisplayName",width:"auto",initialDirection:oe.ASCENDING,sortParams:this.state.sortParams,sort:this.sort},(0,g.t)("App/Search:title")),m.createElement(ee.W,{sortKey:"ParentSemanticPath",width:"25%",initialDirection:oe.ASCENDING,sortParams:this.state.sortParams,sort:this.sort},(0,g.t)("App/Search:found_in")),m.createElement(ee.W,{sortKey:"Size",width:"10%",initialDirection:oe.ASCENDING,sortParams:this.state.sortParams,sort:this.sort},(0,g.t)("App/Search:size")),m.createElement(ee.W,{sortKey:"CreatorName",width:"15%",initialDirection:oe.ASCENDING,sortParams:this.state.sortParams,sort:this.sort},(0,g.t)("App/Search:creator")),m.createElement(ee.W,{sortKey:"CreationDate",width:"10%",initialDirection:oe.ASCENDING,sortParams:this.state.sortParams,sort:this.sort},(0,g.t)("App/Search:upload_date")),!(0,ne.x3)()&&m.createElement($.TH,{width:"44px"})),m.createElement(te.X,null,this.getSortedResults().map((function(t){return m.createElement(ae.C,{key:t.searchResult.ItemID,result:t,removeResult:e.props.removeResult,updateFile:e.props.updateFile,isNativeMobileClient:(0,ne.x3)()})}))))):null}},{key:"getSortedResults",value:function(){var e=this,t=this.props.results.map((function(e){return e.searchResult}));return(0,se.SL)(t,this.state.sortParams).map((function(t){return{item:e.props.results.find((function(e){return e.searchResult.ItemID===t.ItemID})).item,searchResult:t}}))}}]),r}(m.Component),ce=r(29603),pe=r(1406),ue=r(95806),he=r(77475),de=r(88055),me=r(15297),fe=r(71730),ve=r(62833),Se=r(91981),ge=r(50449),ye=r(84781),ke=r(10299),Ce=r(75904),Ze=r(82256),Ee=r(55623),Ae=r(6340),Ie=r(26656),De=r(97478),we=r(22294),xe=function(e){(0,u.Z)(r,e);var t=(0,h.Z)(r);function r(){var e;(0,l.Z)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n)),(0,d.Z)((0,p.Z)(e),"state",{isFavoriteInProgress:!1,isAppInstalling:!1}),(0,d.Z)((0,p.Z)(e),"getOptions",(function(){return[e.getRestart(),e.getOpenApp(),e.getDetails(),e.getFavorite()].filter((function(e){return!!e}))})),(0,d.Z)((0,p.Z)(e),"getRestart",(function(){if(e.isDesktop(e.props.result)&&e.props.result.poweroffurl)return{onClick:e.restartDesktop,children:(0,g.t)("Workspace:restart_desktop_modal.restart")}})),(0,d.Z)((0,p.Z)(e),"getDetails",(function(){return{onClick:e.viewDetails,children:(0,g.t)("Workspace:view_details")}})),(0,d.Z)((0,p.Z)(e),"getOpenApp",(function(){if(!e.isDesktop(e.props.result)){var t,r=e.props.resourceContext.isInstalled(e.props.result.id),s=e.props.resourceContext.isInProgress(e.props.result.id),n=null;return(0,Ce.k)(e.props.result)&&!r?(e.state.isAppInstalling?t=(0,g.t)("Workspace:installing_app"):(t=(0,g.t)("Workspace:install_app"),n=function(){e.installApp()}),{children:t,onClick:n}):s?{children:(0,g.t)("Workspace:open_in_progress")}:{children:(0,g.t)("Workspace:open_app"),onClick:function(){e.openApp()}}}})),(0,d.Z)((0,p.Z)(e),"installApp",(function(){e.setState({isAppInstalling:!0}),(0,Ee.b)({resource:e.props.result,updateSession:e.props.resourceContext.updateSession}).catch((function(){return(0,f.cB)((0,g.t)("Workspace:application_install_failed"))})).then((function(){e.setState({isAppInstalling:!1})}))})),(0,d.Z)((0,p.Z)(e),"openApp",(function(){(0,Ae.FV)({resource:e.props.result,resourceContext:e.props.resourceContext,workspaceConfiguration:e.props.workspaceConfiguration})})),(0,d.Z)((0,p.Z)(e),"getFavorite",(function(){var t=e.props.result;if(e.props.resourceContext.subscriptionsEnabled()&&t.subscriptionurl&&!t.mandatory)return{children:(0,Ze.D)(e.props.result)?(0,g.t)("App/Search:remove_favorite"):(0,g.t)("App/Search:add_favorite"),onClick:function(){return e.favoriteToggle()}}})),(0,d.Z)((0,p.Z)(e),"favoriteToggle",(function(){e.setState({isFavoriteInProgress:!0});var t=(0,o.Z)((0,o.Z)({},e.props.result),{},{resourceContext:e.props.resourceContext,subscriptionstatus:(0,Ze.D)(e.props.result)?we.RO.subscribed:we.RO.unsubscribed});(0,Ze.D)(e.props.result)?(0,Ie.U)(t).catch((function(){})).then((function(){return e.setState({isFavoriteInProgress:!1})})):(0,ke.k)(t).catch((function(){})).then((function(){return e.setState({isFavoriteInProgress:!1})}))})),(0,d.Z)((0,p.Z)(e),"launchResource",(function(){!(0,Ce.k)(e.props.result)||e.props.resourceContext.isInstalled(e.props.result.id)?(0,Ae.FV)({resource:e.props.result,resourceContext:e.props.resourceContext,workspaceConfiguration:e.props.workspaceConfiguration}):e.props.resourceContext.isInProgress(e.props.result.id)||e.state.isAppInstalling||e.installApp()})),(0,d.Z)((0,p.Z)(e),"restartDesktop",(function(){(0,Se.e)(e.props.result,e.props,e.props.workspaceConfiguration)})),(0,d.Z)((0,p.Z)(e),"isDesktop",(function(e){return e.isdesktop||e.keywords&&e.keywords.some((function(e){return"TreatAsApp"===e}))})),(0,d.Z)((0,p.Z)(e),"viewDetails",(function(){e.isDesktop(e.props.result)?e.props.showModal(m.createElement(ge.K,{resource:e.props.result})):e.props.showModal(m.createElement(ge.G,{resource:e.props.result,recentItems:e.props.filesContext.recentItems}))})),e}return(0,c.Z)(r,[{key:"render",value:function(){var e=this;return m.createElement("div",{className:(0,k.css)(V.row),key:this.props.result.id},m.createElement("div",{className:(0,k.css)(V.outerColumn)},this.props.resourceContext.subscriptionsEnabled()&&!!this.props.result.subscriptionurl&&m.createElement("div",null,m.createElement(ve.r,(0,ce.Z)({},this.props.result,{isPending:this.state.isFavoriteInProgress})))),m.createElement("div",{onClick:this.launchResource,className:(0,k.css)(V.innerColumn),role:""},m.createElement("div",{className:(0,k.css)(V.iconContainer)},this.props.resourceContext.isInProgress(this.props.result.id)||this.state.isAppInstalling?m.createElement("div",{className:(0,k.css)(V.icon)},m.createElement(pe.mT,{size:K})):m.createElement(fe.w,{resource:this.props.result,size:K})),m.createElement("span",{className:(0,k.css)(V.title)},this.props.result.name)),m.createElement("div",{className:(0,k.css)(V.outerColumn)},(0,ne.x3)()?m.createElement("div",{className:(0,k.css)(V.moreActions)},m.createElement(ue.h,{size:22,title:(0,g.t)("Workspace:more_options"),hoverColor:j.blue800,onClick:function(){return e.props.showModal(m.createElement(he.P,{menuItems:e.getMobileActionSheetMenuItems(e.getOptions()),closeOnOverlayClick:!0}))}})):m.createElement(de.L,{options:this.getOptions(),placement:"bottom-end"},(function(e){return m.createElement(I.z.Wrapper,e,m.createElement("div",{className:(0,k.css)(V.moreActions)},m.createElement(ue.h,{size:22,title:(0,g.t)("Workspace:more_options"),hoverColor:j.blue800})))}))))}},{key:"getMobileActionSheetMenuItems",value:function(e){return e.map((function(e){return{onClick:function(){return e.onClick(null)},title:e.children}}))}}]),r}(m.Component),be=(0,ye.x)((0,N.P)((0,De.T2)((0,me.S)(xe)))),Ne=k.StyleSheet.create({resultsHeader:{display:"flex",alignItems:"center",height:"30px",fontSize:"14px",backgroundColor:"#f5f5f5",border:"1px solid #e9e9e9",paddingLeft:"40px"},emptyState:{paddingTop:"20px"},emptyStateTitle:{fontSize:"24px",fontWeight:P.weights.light},status:{backgroundColor:"white",height:"44px",lineHeight:"44px",paddingLeft:"40px"},statusEmpty:{fontStyle:"italic",fontWeight:P.weights.regular,color:j.grey600}}),Fe=k.StyleSheet.create({resultsContent:{backgroundColor:"white"}});function Oe(e){return m.createElement("div",{className:(0,k.css)(Fe.resultsContent)},e.showStatus&&m.createElement("div",{className:(0,k.css)(Ne.resultsHeader)},e.title),e.showStatus&&!e.results.length&&m.createElement("div",{className:(0,k.css)(Ne.status,Ne.statusEmpty)},e.noResultsText),e.results.map((function(e){return m.createElement(be,{key:e.id,result:e})})))}var _e,Te=function(e){(0,u.Z)(r,e);var t=(0,h.Z)(r);function r(){var e;(0,l.Z)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n)),(0,d.Z)((0,p.Z)(e),"supportedSearches",[e.props.supportsApps,e.props.supportsDesktops,e.props.supportsFiles].filter((function(e){return e})).length),e}return(0,c.Z)(r,[{key:"render",value:function(){return this.props.lastSearchTerm?m.createElement("div",null,this.showApps()&&m.createElement(Oe,{title:(0,g.t)("App/Search:applications"),results:this.props.apps,noResultsText:(0,g.t)("javascript:search.no_applications_found"),showStatus:this.supportedSearches>1}),this.showDesktops()&&m.createElement(Oe,{title:(0,g.t)("App/Search:desktops"),results:this.props.desktops,noResultsText:(0,g.t)("javascript:search.no_desktops_found"),showStatus:this.supportedSearches>1}),this.showFilesHeader()&&m.createElement("div",{className:(0,k.css)(Ne.resultsHeader)},(0,g.t)("App/Search:files")),this.showFiles()&&m.createElement(le,{results:this.props.fileSearchResults,removeResult:this.props.removeResult,updateFile:this.props.updateFile}),!navigator.onLine&&m.createElement(X,null),this.showSearchingFiles()&&m.createElement("div",{className:(0,k.css)(Ne.status)},(0,g.t)("javascript:search.searching")),this.showNoFilesFound()&&m.createElement("div",{className:(0,k.css)(Ne.status,Ne.statusEmpty)},(0,g.t)("javascript:search.no_files_found")),this.showEmptyState()&&m.createElement("div",{className:(0,k.css)(Ne.emptyState)},m.createElement(q.u,{icon:U.x},m.createElement("div",{className:(0,k.css)(Ne.emptyStateTitle)},(0,g.t)("App/Search:no_search_results_found"))))):m.createElement("div",{className:(0,k.css)(Ne.emptyState)},m.createElement(q.u,{icon:U.x},m.createElement("div",{className:(0,k.css)(Ne.emptyStateTitle)},(0,g.t)("App/Search:search_screen_default_message"))))}},{key:"hasResults",value:function(){return this.showApps()&&this.props.apps.length||this.showDesktops()&&this.props.desktops.length||this.showFiles()&&this.props.fileSearchResults.length}},{key:"showApps",value:function(){return this.props.supportsApps&&(this.props.filterOption===T.C.All||this.props.filterOption===T.C.Applications)}},{key:"showDesktops",value:function(){return this.props.supportsDesktops&&(this.props.filterOption===T.C.All||this.props.filterOption===T.C.Desktops)}},{key:"showFilesHeader",value:function(){return this.supportedSearches>1&&(this.showFiles()||!navigator.onLine)}},{key:"showFiles",value:function(){return this.props.supportsFiles&&(this.props.filterOption===T.C.All||this.props.filterOption===T.C.Files)}},{key:"showSearchingFiles",value:function(){return this.showFiles()&&this.supportedSearches>1&&this.props.isSearching}},{key:"showNoFilesFound",value:function(){return this.showFiles()&&this.supportedSearches>1&&!this.props.isSearching&&!this.props.fileSearchResults.length}},{key:"showEmptyState",value:function(){return 1===this.supportedSearches&&!this.props.isSearching&&!this.hasResults()}}]),r}(m.Component);!function(e){e.All="all",e.Applications="applications",e.Desktops="desktop",e.Files="files"}(_e||(_e={}));var Re=function(e){(0,u.Z)(r,e);var t=(0,h.Z)(r);function r(){var e;(0,l.Z)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n)),(0,d.Z)((0,p.Z)(e),"state",e.buildInitialState()),(0,d.Z)((0,p.Z)(e),"supportsApps",e.props.resourceContext.resources.some((function(e){return!e.isdesktop}))),(0,d.Z)((0,p.Z)(e),"supportsDesktops",e.props.resourceContext.resources.some((function(e){return e.isdesktop}))),(0,d.Z)((0,p.Z)(e),"updateQuery",(function(t){e.setState((function(e){return{query:(0,o.Z)((0,o.Z)({},e.query),t)}}))})),(0,d.Z)((0,p.Z)(e),"updateFilterOption",(function(t){e.setState({filterOption:t},(function(){e.state.query.SearchQuery&&e.executeSearch(e.state.query)}))})),(0,d.Z)((0,p.Z)(e),"resetQuery",(function(){e.setState((function(t){return{query:(0,o.Z)((0,o.Z)({},e.getDefaultQuery()),{},{SearchQuery:t.query.SearchQuery})}}))})),(0,d.Z)((0,p.Z)(e),"removeResult",(function(t){e.setState((function(e){return{fileSearchResults:e.fileSearchResults.filter((function(e){return t!==e}))}}))})),(0,d.Z)((0,p.Z)(e),"updateFile",(function(t,r){var s=(0,i.Z)(e.state.fileSearchResults),n=s.findIndex((function(e){return e.searchResult.ItemID===t}));s[n]=(0,o.Z)((0,o.Z)({},s[n]),{},{item:(0,o.Z)((0,o.Z)({},s[n].item),r)}),e.setState({fileSearchResults:s,hasStaleFavorites:!0})})),(0,d.Z)((0,p.Z)(e),"applyQuery",(function(){e.executeSearch(e.state.query)})),e}return(0,c.Z)(r,[{key:"buildInitialState",value:function(){var e=(0,o.Z)((0,o.Z)({},this.getDefaultQuery()),{},{SearchQuery:decodeURIComponent(this.props.search||"")});return{fileSearchResults:[],appIds:[],desktopIds:[],query:e,lastSearchTerm:e.SearchQuery,filterOption:this.props.searchFilterOption||_e.All}}},{key:"componentDidMount",value:function(){var e=this.state.query;e.SearchQuery&&this.executeSearch(e)}},{key:"componentDidUpdate",value:function(e){var t=this;if(e.search!==this.props.search||e.searchFilterOption!==this.props.searchFilterOption){var r={SearchQuery:this.props.search};this.setState((function(e,t){return{fileSearchResults:[],query:(0,o.Z)((0,o.Z)({},e.query),r),filterOption:t.searchFilterOption}}),(function(){t.executeSearch(t.state.query)}))}}},{key:"render",value:function(){var e=this;return this.state?m.createElement(m.Fragment,null,m.createElement(B,{executeSearch:this.applyQuery,query:this.state.query,resetQuery:this.resetQuery,searching:this.state.searching,user:this.props.user,updateQuery:this.updateQuery,supportsApps:this.supportsApps,supportsDesktops:this.supportsDesktops,supportsFiles:this.props.supportsFiles,filterOption:this.state.filterOption,updateFilterOption:this.updateFilterOption}),m.createElement(Te,{fileSearchResults:this.state.fileSearchResults,apps:this.props.resourceContext.resources.filter((function(t){return e.state.appIds.includes(t.id)})),desktops:this.props.resourceContext.resources.filter((function(t){return e.state.desktopIds.includes(t.id)})),filterOption:this.state.filterOption,isSearching:this.state.searching,lastSearchTerm:this.state.lastSearchTerm,removeResult:this.removeResult,updateFile:this.updateFile,supportsApps:this.supportsApps,supportsDesktops:this.supportsDesktops,supportsFiles:this.props.supportsFiles})):null}},{key:"patchFavorites",value:function(e,t){return e.map((function(e){var r=t.find((function(t){return t.Item.Id===e.ItemID}));return r?{searchResult:e,item:r.Item}:{searchResult:e,item:{Id:e.ItemID,StreamID:e.StreamID}}}))}},{key:"getDefaultQuery",value:function(){return{CreateStartDate:void 0,CreateEndDate:void 0,CreatorID:[],ItemNameOnly:!1,ItemTypes:null,ParentID:[],SearchQuery:null}}},{key:"executeSearch",value:function(e){var t=this,r=(this.state.filterOption===_e.All||this.state.filterOption===_e.Files)&&navigator.onLine&&this.props.supportsFiles,s=(0,y.l)(this.props.resourceContext.resources,e.SearchQuery),n=this.state.filterOption===_e.All||this.state.filterOption===_e.Applications?s.filter((function(e){return!e.isdesktop})):[],i=this.state.filterOption===_e.All||this.state.filterOption===_e.Desktops?s.filter((function(e){return e.isdesktop})):[],o=n.map((function(e){return e.id})),l=i.map((function(e){return e.id}));this.setState({appIds:o,desktopIds:l,searching:!0,fileSearchResults:[],lastSearchTerm:e.SearchQuery});var c=new Promise((function(t){if(!r)return t([]);v.h.advancedSearch({Query:e}).execute().then((function(e){return t(e.Results)})).catch((function(){(0,f.cB)((0,g.t)("App/Search:search_error")),t([])}))})),p=new Promise((function(e){return r?t.state.favorites&&!t.state.hasStaleFavorites?e(t.state.favorites):void S.h.getByUser(t.props.user.url).expand("Item").expand("Item/Favorite").select("Item/Id").select("Item/StreamID").select("Item/Favorite/*").execute().then((function(r){var s=r.value;return t.setState({hasStaleFavorites:!1}),e(s)})).catch((function(){t.setState({favorites:[],hasStaleFavorites:!1})})):e([])}));Promise.all([c,p]).then((function(e){var r=(0,a.Z)(e,2),s=r[0],n=r[1];t.setState({fileSearchResults:t.patchFavorites(s,n),favorites:n,searching:!1})}))}}]),r}(m.Component)},54510:function(e,t,r){"use strict";var s;r.d(t,{C:function(){return s}}),function(e){e.All="all",e.Applications="applications",e.Desktops="desktop",e.Files="files",e.Feed="feed"}(s||(s={}))},35401:function(e,t,r){"use strict";r.d(t,{X:function(){return c}});var s=r(29603),n=r(83721),a=r(27378),i=r(58999),o=r(68121),l=["resultItem","size"];function c(e){var t=e.resultItem,r=e.size,c=void 0===r?24:r,p=(0,n.Z)(e,l);if(!t)throw new Error("Need to specify a 'resultItem");if("file"===t.ItemType){var u=t.FileName||t.DisplayName;return a.createElement(i.S,(0,s.Z)({},p,{fileName:u,size:c}))}var h=(0,o.L60)();return"link"===t.ItemType?h=(0,o.EWY)():"note"===t.ItemType&&(h=(0,o.kTy)()),a.createElement(i.S,(0,s.Z)({},p,{item:h,size:c}))}},12121:function(e,t,r){"use strict";function s(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r(59245).addResourceBundle;switch(e){case"de":t=r.e(3076).then(r.t.bind(r,93076,19));break;case"es":t=r.e(4536).then(r.t.bind(r,14536,19));break;case"fr":t=r.e(4319).then(r.t.bind(r,24319,19));break;case"it":t=r.e(6401).then(r.t.bind(r,86401,19));break;case"ja":t=r.e(613).then(r.t.bind(r,40613,19));break;case"ko":t=r.e(8526).then(r.t.bind(r,18526,19));break;case"nl":t=r.e(3374).then(r.t.bind(r,63374,19));break;case"pt-BR":t=r.e(7865).then(r.t.bind(r,17865,19));break;case"ru":t=r.e(5308).then(r.t.bind(r,45308,19));break;case"zh-CN":t=r.e(777).then(r.t.bind(r,10777,19));break;default:t=r.e(46).then(r.t.bind(r,80046,19))}return t.then((function(t){s(e,"App/Search",t)}))}r.d(t,{P:function(){return s}})},28309:function(e,t,r){"use strict";r.d(t,{W:function(){return o}});var s=r(9604),n=r(86985),a=r(75219),i=r(20913),o=s.StyleSheet.create({container:{background:n.grey100,height:"100%"},title:{fontSize:a.sizes.base,lineHeight:i.mediumLargeSpace,textAlign:"center",color:n.grey900,fontWeight:a.weights.semiBold},modalTitle:{paddingLeft:0},modal:{backgroundColor:"#fff",height:"100%",width:"100%",display:"flex",flexDirection:"column"},body:{backgroundColor:"#fff",padding:0,height:"100%"},loadingContainer:{height:"100%"},titleSuffix:{fontSize:a.sizes.xl4,fontWeight:a.weights.medium,marginLeft:"10px"}})},19594:function(e,t,r){"use strict";function s(e,t){return t?e.filter((function(e){return t.toLowerCase().split(" ").every((function(t){return e.name.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)}))})):[]}r.d(t,{l:function(){return s}})},24210:function(e,t,r){"use strict";r.d(t,{b:function(){return p}});var s=r(41476),n=r(64897),a=r(57135),i=r.n(a),o=r(96957),l=r(56552),c=r(62971);function p(){var e=(0,c.N)(),t=e.resolveByCapability(o.N.integrationsProvider),r=(0,n.Z)(t,1)[0],a=e.resolveByCapability(o.N.linkUtilities),p=(0,n.Z)(a,1)[0];return(0,l.useQuery)("ItemSearchModalContentDataIntegrations",(0,s.Z)(i().mark((function e(){var t,s,n,a,o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r&&r.enabled&&null!=p&&p.enabled){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,r.resolver;case 4:return t=e.sent,e.next=7,p.resolver;case 7:return s=e.sent,n=s.isDetailLink,a=s.isResultsLink,e.next=12,t.getIntegrations();case 12:return o=e.sent,l=o.filter((function(e){return e.enabled})).filter((function(e){return e.authenticated})).filter((function(e){return e._links.find(n)})).filter((function(e){return e.endpoints.find((function(e){return"search"===e.category&&null!=e._links.find(a)}))})),e.abrupt("return",l);case 15:case"end":return e.stop()}}),e)}))),{cacheTime:6e4,keepPreviousData:!0})}},36907:function(e,t,r){"use strict";r.d(t,{p:function(){return f}});var s=r(29603),n=r(25180),a=r(58640),i=r(55117),o=r(38638),l=r(54559),c=r(73450),p=r(27378),u=r(15687),h=r(20883),d=r(59245),m=r(85436),f=function(e){(0,o.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,c.Z)((0,i.Z)(e),"state",{}),(0,c.Z)((0,i.Z)(e),"onFolderSelected",(function(t){e.setState({folder:t})})),(0,c.Z)((0,i.Z)(e),"selectButtonOnClick",(function(){e.props.onCloseSuccess(e.state.folder)})),e}return(0,a.Z)(r,[{key:"render",value:function(){return p.createElement(u.u_,(0,s.Z)({},this.props,{title:(0,d.t)("App/Files:select_folder")}),p.createElement(u.fe,null,p.createElement(m.L,{selectedFolderId:this.state.folder&&this.state.folder.Id,onFolderSelected:this.onFolderSelected,isNodeDisabled:this.props.isNodeDisabled})),p.createElement(u.mz,null,p.createElement(h.z.Primary,{onClick:this.selectButtonOnClick,disabled:!this.state.folder},(0,d.t)("App/Files:select_folder")),p.createElement(h.z.Secondary,{onClick:this.props.onDismiss},(0,d.t)("App/Files:cancel"))))}}]),r}(p.Component)}}]);
//# sourceMappingURL=7403.d739e0d24447a0163c1c.js.map